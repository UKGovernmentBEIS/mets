<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
		logicalFilePath="v0.1.0/changelog_notification_template.xml"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.11.xsd">

    <changeSet id="0_1_0_CREATE_TABLE_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>CREATE notification_template TABLE</comment>
        <sql>
            CREATE SEQUENCE notification_template_seq MINVALUE 0 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 1 NO CYCLE;

            CREATE TABLE notification_template (
            id bigint,
            name VARCHAR(255) NOT NULL,
            subject VARCHAR(255) NOT NULL,
            text TEXT NOT NULL);

            ALTER TABLE notification_template ADD CONSTRAINT notification_template_pk PRIMARY KEY (id);
            ALTER TABLE notification_template ADD CONSTRAINT notification_template_uc UNIQUE (name);

            COMMENT ON TABLE notification_template IS 'Stores information about notification templates';
            COMMENT ON COLUMN notification_template.name IS 'The notification template name';
            COMMENT ON COLUMN notification_template.subject IS 'The notification template subject';
            COMMENT ON COLUMN notification_template.text IS 'The notification template text';

        </sql>

        <rollback>
            <sql>
                DROP TABLE IF EXISTS notification_template CASCADE;
                DROP SEQUENCE IF EXISTS notification_template_seq;
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_CONFIRMATION_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template Table for Email Confirmation</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text
            )
			VALUES (
			nextval('notification_template_seq'),
			'EmailConfirmation',
			'Confirm your email address - PMRV',
			'Thank you for starting the registration process with Permitting, Monitoring, Reporting,
Verification system (PMRV).

To confirm your email address, please click on the following link:

[Verify your email address and continue with the registration process](${emailConfirmationLink})

If you did not request this verification email, contact the PMRV at info@pmrv.com.

Do not reply, this is an automatic email.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'EmailConfirmation';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_USER_ACCOUNT_CREATED_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template Table for User Account Created email</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'UserAccountCreated',
			'User account created - PMRV',
			'Dear ${userFirstName} ${userLastName},

This is to notify you that a user account has been created in PMRV for the below company contact details:

First name: ${userFirstName}

Last name: ${userLastName}

Email address: ${userEmail}

You will be asked to provide this email address if you forget your password or want to change your password.

Kind Regards,

PMRV Helpdesk'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'UserAccountCreated';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ACCOUNT_APPLICATION_RECEIVED_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template Table for Account Application Received email</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'AccountApplicationReceived',
			'PMRV account application received',
			'Dear ${applicantFirstName} ${applicantLastName},

Thank you for applying to set up a PMRV account.

We’ll check your application, then let you know if you’ve been successful within 10 working days.

Regards,

${competentAuthorityName}'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'AccountApplicationReceived';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ACCOUNT_APPLICATION_ACCEPTED_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template Table for Account Application Accepted email</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'AccountApplicationAccepted',
			'PMRV account application update',
			'Dear ${applicantFirstName} ${applicantLastName},

Your application to set up a PMRV account has been successful.

Sign in to your PMRV account to:
- apply for a GHG permit
- send and receive notifications from your regulator

Contact ${competentAuthorityName} for help:
${competentAuthorityEmail}
${competentAuthorityPhone}

Regards,
PMRV'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'AccountApplicationAccepted';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ACCOUNT_APPLICATION_REJECTED_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template Table for Account Application Rejected email</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'AccountApplicationRejected',
			'PMRV account application update',
			'Dear ${applicantFirstName} ${applicantLastName},

Sorry, your application to set up a PMRV account has not been successful.

This is because ${reason}.

You can apply to set up a PMRV account again on GOV.UK.

Contact ${competentAuthorityName} for help:
${competentAuthorityEmail}
${competentAuthorityPhone}

Regards,
PMRV'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'AccountApplicationRejected';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_ACCOUNT_USERS_SETUP_MESSAGE_NOTIFICATION_TEMPLATE" author="p70366@trasys.gr" context="migrate">

        <comment>Insert record in notification_template for Account Users Setup Message</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'AccountUsersSetup',
			'Set up additional user on your account',
			'You are currently the Admin user on your account.

You can add additional Admin users, other Operator users, Consultants or Verifiers.

Users can be managed at any time from your Dashboard by selecting "Manage users, contacts or verifiers"

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}})'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'AccountUsersSetup';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_INVITATION_TO_OPERATOR_ACCOUNT_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr" context="migrate">

        <comment>Insert record in notification_template for Invitation To Operator Account</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'InvitationToOperatorAccount',
			'PMRV new user',
			'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

To claim and activate your account you must click the link below within 72 hours.

If you are an existing user you will be required to log into the PMRV system with your credentials.

If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

[Confirm your account now](${operatorInvitationConfirmationLink})'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InvitationToOperatorAccount';
            </sql>
        </rollback>

    </changeSet>
    
    <changeSet id="0_1_0_INSERT_INVITATION_TO_REGULATOR_NOTIFICATION_TEMPLATE" author="P35066">
        <comment>Insert record in notification_template for Invitation To Regulator</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id, name, subject, text)
			VALUES (
			nextval('notification_template_seq'),
			'InvitationToRegulatorAccount',
			'Activate your PMRV account',
			'${applicantFirstName} ${applicantLastName}

An account has been created for you.

To claim and activate your account you must click the link below within 72 hours.

You will be asked to create a password.

[Activate your account now](${regulatorInvitationConfirmationLink})'
            )]]>;
        </sql>
        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InvitationToRegulatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_INSERT_INVITATION_TO_VERIFIER_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr">
        <comment>Insert record in notification_template for Invitation To Verifier</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id, name, subject, text)
			VALUES (
			nextval('notification_template_seq'),
			'InvitationToVerifierAccount',
			'Activate your PMRV account',
			'${applicantFirstName} ${applicantLastName},

An account has been created for you.

To claim and activate your account you must click the link below within 72 hours.

You will be asked to create a password.

[Activate your account now](${verifierInvitationConfirmationLink})'
            )]]>;
        </sql>
        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InvitationToVerifierAccount';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_INSERT_NEW_USER_CONFIRMED_MESSAGE_NOTIFICATION_TEMPLATE" author="P35066">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'NewUserConfirmed',
			'New user confirmed',
			'The account of ${userFullName} is confirmed.

Users can be managed at any time from your Dashboard by selecting "Manage users, contacts or verifiers"

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}})'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'NewUserConfirmed';
            </sql>
        </rollback>

    </changeSet>
    
    <changeSet id="0_1_0_INSERT_NEW_VERIFICATION_BODY_INSTALLATION_MESSAGE_NOTIFICATION_TEMPLATE" author="P35066">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'NewVerificationBodyInstallation',
			'New Installation',
			'${operatorName} has appointed your organisation as the verifier for ${accountName}.

You can manage the individual who is assigned as the site contact by navigating to Manage verifier users.

You can assign and re-assign site contacts at any time.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'NewVerificationBodyInstallation';
            </sql>
        </rollback>

    </changeSet>
    
    <changeSet id="0_1_0_INSERT_VERIFIER_NO_LONGER_AVAILABLE_MESSAGE_NOTIFICATION_TEMPLATE" author="P35066">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'VerifierNoLongerAvailable',
			'Verifier is no longer available',
			'The verifier you have appointed at your installation has been removed or suspended by the regulator and is no longer available.

You can appoint a new verifier at any time from your dashboard by selecting "Manage users, contacts or verifiers" or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}}).

If you do not appoint a verifier now, you will be reminded at the end of each calendar year and prior to the deadline for submission of your Annual Emission Monitoring report that you must appoint a verifier.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'VerifierNoLongerAvailable';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_INVITATION_TO_EMITTER_CONTACT_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr">

        <comment>Insert record in notification_template for Invitation To Emitter Contact</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'InvitationToEmitterContact',
			'PMRV invitation to emitter contact',
			'Dear ${applicantFirstName} ${applicantLastName}

This is to notify you that you have been created as an Emitter contact at ${installationAccountName}.

All system alerts, notices and official communications will be sent to your registered email address.

Notices and official communications will be sent by post to your registered address.

Kind regards,
PMRV Helpdesk'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InvitationToEmitterContact';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_EDIT_NEW_VERIFICATION_BODY_INSTALLATION_MESSAGE_NOTIFICATION_TEMPLATE" author="P70366">
        <sql>
            UPDATE notification_template SET TEXT=
			'${operatorName} has appointed your organisation as the verifier for ${accountName}.

You can manage the individual who is assigned as the site contact by navigating to [Manage verifier users]({"action": "VERIFICATION_BODY_USERS_SETUP"}).

You can assign and re-assign site contacts at any time.'
WHERE NAME = 'NewVerificationBodyInstallation';
        </sql>

        <rollback>
            <sql>
            UPDATE notification_template SET TEXT=
			'${operatorName} has appointed your organisation as the verifier for ${accountName}.

You can manage the individual who is assigned as the site contact by navigating to Manage verifier users.

You can assign and re-assign site contacts at any time.'
WHERE NAME = 'NewVerificationBodyInstallation';
            </sql>
        </rollback>

    </changeSet>
    
    
    <changeSet id="0_1_0_UPDATE_MESSAGE_NOTIFICATION_TEMPLATE_REMOVE_DOUBLE_QUOTES_FROM_MANAGE_USERS_CONTACTS_OR_VERIFIERS_TEXT" author="P35066">
        <comment>Remove double quotes from manage users, contacts or verifiers text</comment>
        <sql>
            update notification_template set text =
			'You are currently the Admin user on your account.

You can add additional Admin users, other Operator users, Consultants or Verifiers.

Users can be managed at any time from your Dashboard by selecting ''Manage users, contacts or verifiers''

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}})'
			where name = 'AccountUsersSetup';
			
			update notification_template set text =
			'The account of ${userFullName} is confirmed.

Users can be managed at any time from your Dashboard by selecting ''Manage users, contacts or verifiers''

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}})'
			where name = 'NewUserConfirmed';
			
			update notification_template set text =
			'The verifier you have appointed at your installation has been removed or suspended by the regulator and is no longer available.

You can appoint a new verifier at any time from your dashboard by selecting ''Manage users, contacts or verifiers'' or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}}).

If you do not appoint a verifier now, you will be reminded at the end of each calendar year and prior to the deadline for submission of your Annual Emission Monitoring report that you must appoint a verifier.'
			where name = 'VerifierNoLongerAvailable';
        </sql>

        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_INSERT_CHANGE_2FA_MESSAGE_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'Change2FA',
			'Change two factor authentication',
			'Use this link to sign in to the PMRV and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in 5 minutes.

If you did not request this change you must contact the PMRV.

This is an automatic email - please do not reply to this address.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Change2FA';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_EDIT_CHANGE_2FA_MESSAGE_NOTIFICATION_TEMPLATE_WITH_CONTACT" author="P70383">
        <sql>
            UPDATE notification_template
            SET TEXT= 'Use this link to sign in to the PMRV and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in 5 minutes.

If you did not request this change you must contact the PMRV at ${officialPmrvContact}.

This is an automatic email - please do not reply to this address.',
            SUBJECT = 'Two factor authentication device update request - PMRV'
            WHERE NAME = 'Change2FA';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET TEXT= 'Use this link to sign in to the PMRV and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in 5 minutes.

If you did not request this change you must contact the PMRV.

This is an automatic email - please do not reply to this address.',
                SUBJECT = 'Change two factor authentication'
                WHERE NAME = 'Change2FA';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_INVITEE_INVITATION_ACCEPTED_NOTIFICATION_TEMPLATE" author="P70383">
        <comment>Add InviteeInvitationAccepted template</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'InviteeInvitationAccepted',
			'User account activation',
			'Dear ${userRoleType},

This is to notify you that your PMRV user account is now accepted.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InviteeInvitationAccepted';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_INVITER_INVITATION_ACCEPTED_NOTIFICATION_TEMPLATE" author="P70383">
        <comment>Add InviterInvitationAccepted template</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'InviterInvitationAccepted',
			'User account activation',
			'Dear ${userFirstName} ${userLastName},

This is to notify you that ${userInviteeFirstName} ${userInviteeLastName} has accepted the invitation.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'InviterInvitationAccepted';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_DELETE_NEW_USER_CONFIRMED_NOTIFICATION_TEMPLATE" author="P70383">
        <comment>Delete NewUserConfirmed template</comment>
        <sql>
            DELETE FROM notification_template WHERE name = 'NewUserConfirmed';
        </sql>

        <rollback>
            <sql>
                <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'NewUserConfirmed',
			'New user confirmed',
			'The account of ${userFullName} is confirmed.

Users can be managed at any time from your Dashboard by selecting 'Manage users, contacts or verifiers'

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId}})'
            )]]>;
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_USER_ACCOUNT_ACTIVATION_NOTIFICATION_TEMPLATE" author="P70383">
        <comment>Add UserAccountActivation template</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'UserAccountActivation',
			'User account activation',
			'Dear ${userRoleType},

This is to notify you that your PMRV user account is now active.

You can log in using the details provided at your account creation.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'UserAccountActivation';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_EDIT_INVITATION_TO_OPERATOR_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

            To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

            If you are an existing user you will be required to log into the PMRV system with your credentials.

            If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

            [Confirm your account now](${operatorInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

                To claim and activate your account you must click the link below within 72 hours.

                If you are an existing user you will be required to log into the PMRV system with your credentials.

                If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

                [Confirm your account now](${operatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_EDIT_INVITATION_TO_REGULATOR_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            '${applicantFirstName} ${applicantLastName}

            An account has been created for you.

            To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

            You will be asked to create a password.

            [Activate your account now](${regulatorInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToRegulatorAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName}

                An account has been created for you.

                To claim and activate your account you must click the link below within 72 hours.

                You will be asked to create a password.

                [Activate your account now](${regulatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToRegulatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_EDIT_INVITATION_TO_VERIFIER_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            '${applicantFirstName} ${applicantLastName},

            An account has been created for you.

            To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

            You will be asked to create a password.

            [Activate your account now](${verifierInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToVerifierAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName},

                An account has been created for you.

                To claim and activate your account you must click the link below within 72 hours.

                You will be asked to create a password.

                [Activate your account now](${verifierInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToVerifierAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_EDIT_CHANGE_2FA_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            'Use this link to sign in to the PMRV and update your authenticator app:

            [Sign in and set up new two factor authentication](${change2FALink})

            This link will expire in ${expirationMinutes} minutes.

            If you did not request this change you must contact the PMRV at ${officialPmrvContact}.

            This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'Change2FA';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'Use this link to sign in to the PMRV and update your authenticator app:

                [Sign in and set up new two factor authentication](${change2FALink})

                This link will expire in 5 minutes.

                If you did not request this change you must contact the PMRV at ${officialPmrvContact}.

                This is an automatic email - please do not reply to this address.'
                WHERE NAME = 'Change2FA';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_1_EDIT_INVITATION_TO_OPERATOR_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

If you are an existing user you will be required to log into the PMRV system with your credentials.

If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

[Confirm your account now](${operatorInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

To claim and activate your account you must click the link below within 72 hours.

If you are an existing user you will be required to log into the PMRV system with your credentials.

If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

[Confirm your account now](${operatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>
    <changeSet id="0_1_1_EDIT_INVITATION_TO_REGULATOR_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            '${applicantFirstName} ${applicantLastName}

An account has been created for you.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

You will be asked to create a password.

[Activate your account now](${regulatorInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToRegulatorAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName}

An account has been created for you.

To claim and activate your account you must click the link below within 72 hours.

You will be asked to create a password.

[Activate your account now](${regulatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToRegulatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_1_EDIT_INVITATION_TO_VERIFIER_ACCOUNT_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            '${applicantFirstName} ${applicantLastName},

An account has been created for you.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

You will be asked to create a password.

[Activate your account now](${verifierInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToVerifierAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName},

An account has been created for you.

To claim and activate your account you must click the link below within 72 hours.

You will be asked to create a password.

[Activate your account now](${verifierInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToVerifierAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_1_EDIT_CHANGE_2FA_TEMPLATE" author="P70453">
        <sql>
            UPDATE notification_template SET TEXT=
            'Use this link to sign in to the PMRV and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in ${expirationMinutes} minutes.

If you did not request this change you must contact the PMRV at ${officialPmrvContact}.

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'Change2FA';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'Use this link to sign in to the PMRV and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in 5 minutes.

If you did not request this change you must contact the PMRV at ${officialPmrvContact}.

This is an automatic email - please do not reply to this address.'
                WHERE NAME = 'Change2FA';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_NOTIFICATION_TEMPLATE_UPDATE_TABLE_WITH_COLUMNS_FOR_TEMPLATE_MANAGEMENT" author="pafilisa@unisystems.gr">
        <preConditions onFail="WARN">
            <sqlCheck expectedResult="1">SELECT count(*) FROM information_schema.tables where table_name = 'notification_template';</sqlCheck>
        </preConditions>
        <comment>Update notification_template TABLE</comment>
        <addColumn tableName="notification_template">
            <column name="competent_authority" type="varchar(255)" remarks="The competent authority related to the notification">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="event_trigger" type="varchar(255)" remarks="The description of the event that triggers the notification">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="operator" type="varchar(255)" remarks="The operator type">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="workflow" type="varchar(255)" remarks="The workflow that triggers the notification">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="role_type" type="varchar(255)" remarks="The type of user that manages the notification">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="is_managed" type="boolean" defaultValueBoolean="false" remarks="The indication that the notification is managed"/>
        </addColumn>
        <addColumn tableName="notification_template">
            <column name="last_updated_date" type="timestamp" remarks="The date that the notification template was modified">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <rollback>
            <sql>
                ALTER TABLE notification_template
                DROP COLUMN IF EXISTS competent_authority,
                DROP COLUMN IF EXISTS event_trigger,
                DROP COLUMN IF EXISTS operator,
                DROP COLUMN IF EXISTS workflow,
                DROP COLUMN IF EXISTS role_type,
                DROP COLUMN IF EXISTS is_managed,
                DROP COLUMN IF EXISTS last_updated_date;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_DROP_NOTIFICATION_TEMPLATE_UNIQUE_CONSTRAINT" author="pafilisa@unisystems.gr">
        <dropUniqueConstraint tableName="notification_template" constraintName="notification_template_uc"/>
        <rollback>
            <addUniqueConstraint tableName="notification_template" columnNames="name" constraintName="notification_template_uc"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_ADD_NOTIFICATION_TEMPLATE_UNIQUE_CONSTRAINT" author="pafilisa@unisystems.gr">
        <addUniqueConstraint tableName="notification_template" columnNames="name, competent_authority" constraintName="notification_template_uc"/>
        <rollback>
            <dropUniqueConstraint tableName="notification_template" constraintName="notification_template_uc"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_CREATE_INDEXES_FOR_NOTIFICATION_TEMPLATE_SEARCHABLE_COLUMNS" author="pafilisa@unisystems.gr">
        <sql>
            CREATE INDEX trgm_gin_idx_notification_template_name ON notification_template USING gin (name gin_trgm_ops);
            CREATE INDEX trgm_gin_idx_notification_template_workflow ON notification_template USING gin (workflow gin_trgm_ops);
        </sql>
        <rollback>
            <sql>
                DROP INDEX trgm_gin_idx_notification_template_name;
                DROP INDEX trgm_gin_idx_notification_template_workflow;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_RENAME_NOTIFICATION_TEMPLATE_COLUMN_OPERATOR_TO_OPERATOR_TYPE" author="pafilisa@unisystems.gr">
        <renameColumn tableName="notification_template" oldColumnName="operator" newColumnName="operator_type"/>
        <rollback>
            <sql>
                ALTER TABLE notification_template RENAME COLUMN operator_type TO operator;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_DOCUMENT_TEMPLATE_CREATE_SEQUENCE" author="pafilisa@unisystems.gr">
        <createSequence sequenceName="document_template_seq" minValue="0" maxValue="999999999999999999"
                        incrementBy="1" startValue="1" cycle="false"/>
        <rollback>
            <sql>
                DROP SEQUENCE IF EXISTS document_template_seq;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_DOCUMENT_TEMPLATE_CREATE_TABLE" author="pafilisa@unisystems.gr">
        <createTable tableName="document_template" remarks="Represents a document template">
            <column name="id" type="bigint" remarks="Primary key">
                <constraints primaryKey="true" primaryKeyName="document_template_pk" nullable="false"/>
            </column>
            <column name="name" type="varchar(255)" remarks="The document template name">
                <constraints nullable="false" />
            </column>
            <column name="competent_authority" type="varchar(255)" remarks="The competent authority related to the document template">
                <constraints nullable="false" />
            </column>
            <column name="operator_type" type="varchar(255)" remarks="The operator type"/>
            <column name="workflow" type="varchar(255)" remarks="The workflow related to the document template">
                <constraints nullable="false" />
            </column>
            <column name="last_updated_date" type="timestamp" remarks="The date that the document template was modified">
                <constraints nullable="false" />
            </column>
        </createTable>

        <addUniqueConstraint tableName="document_template" columnNames="name, competent_authority" constraintName="document_template_uc"/>

        <rollback>
            <sql>
                DROP TABLE IF EXISTS document_template;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_NOTIFICATION_DOCUMENT_TEMPLATE_CREATE_TABLE" author="pafilisa@unisystems.gr">
        <createTable tableName="notification_document_template" remarks="Represents the relationship between notification and document templates">
            <column name="notification_template_id" type="bigint" remarks="The notification template id">
                <constraints nullable="false"/>
            </column>
            <column name="document_template_id" type="bigint" remarks="The document template id">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addPrimaryKey tableName="notification_document_template" columnNames="notification_template_id, document_template_id" constraintName="notification_document_template_pk"/>
        <addForeignKeyConstraint baseTableName="notification_document_template" baseColumnNames="notification_template_id" constraintName="notification_template_fk" referencedTableName="notification_template" referencedColumnNames="id"/>
        <addForeignKeyConstraint baseTableName="notification_document_template" baseColumnNames="document_template_id" constraintName="document_template_fk" referencedTableName="document_template" referencedColumnNames="id"/>

        <rollback>
            <sql>
                DROP TABLE IF EXISTS notification_document_template;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_CREATE_INDEXES_FOR_DOCUMENT_TEMPLATE_SEARCHABLE_COLUMNS" author="pafilisa@unisystems.gr">
        <sql>
            CREATE INDEX trgm_gin_idx_document_template_name ON document_template USING gin (name gin_trgm_ops);
            CREATE INDEX trgm_gin_idx_document_template_workflow ON document_template USING gin (workflow gin_trgm_ops);
        </sql>
        <rollback>
            <sql>
                DROP INDEX trgm_gin_idx_document_template_name;
                DROP INDEX trgm_gin_idx_document_template_workflow;
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_RENAME_NOTIFICATION_DOCUMENT_TEMPLATE_TABLE" author="P70453">
        <renameTable newTableName="notification_template_document_template" oldTableName="notification_document_template" />
        <rollback>
            <renameTable newTableName="notification_document_template" oldTableName="notification_template_document_template" />
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_RENAME_DOCUMENT_TEMPLATE_TABLE" author="P70453">
        <renameTable newTableName="notification_document_template" oldTableName="document_template" />
        <rollback>
            <renameTable newTableName="document_template" oldTableName="notification_document_template" />
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_RENAME_DOCUMENT_TEMPLATE_SEQUENCE" author="P70453">
        <renameSequence newSequenceName="notification_document_template_seq" oldSequenceName="document_template_seq" />
        <rollback>
            <renameSequence newSequenceName="document_template_seq" oldSequenceName="notification_document_template_seq" />
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_add_document_template_id_column_in_file_document" author="P35066">
    	<preConditions onFail="MARK_RAN">
            <not>
	            <columnExists tableName="notification_document_template" columnName="file_document_template_id"/>
	        </not>
        </preConditions>
        <comment>Applies in new deployments only so as to allow the pmrv liquibase scripts integrated smoothly with the netz-files ddl scripts</comment>
    	<addColumn tableName="file_document">
            <column name="document_template_id" type="bigint" remarks="The document template the file is related to">
                <constraints nullable="false" />
            </column>
        </addColumn>
        <rollback>
            <dropColumn tableName="file_document">
	            <column name="document_template_id"/>
	        </dropColumn>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_reference_file_document_in_document_template_table" author="P35066">
    	<addColumn tableName="notification_document_template">
            <column name="file_document_id" type="bigint" remarks="The id of the related file document">
                <constraints nullable="true" />
            </column>
        </addColumn>
        <addUniqueConstraint tableName="notification_document_template" columnNames="file_document_id" constraintName="file_document_id_uc"/>
		<sql>
			delete from file_document where status = 'PENDING';
			with file_doc as (
				select id, document_template_id
				from file_document
			)
			update notification_document_template
			set file_document_id = file_doc.id
			from file_doc
			where notification_document_template.id = file_doc.document_template_id;
		</sql>
		<addNotNullConstraint tableName="notification_document_template" columnName="file_document_id"/>
		<dropColumn tableName="file_document">
            <column name="document_template_id"/>
        </dropColumn>

        <rollback>
	        <addColumn tableName="file_document">
	            <column name="document_template_id" type="bigint" remarks="The id of the related document template">
	                <constraints nullable="true" />
	            </column>
	        </addColumn>
            <sql>
                with doc_template as (
					select id, file_document_id
					from notification_document_template
				)
				update file_document
				set document_template_id = doc_template.id
				from doc_template
				where file_document.id = doc_template.file_document_id;
            </sql>
            <dropNotNullConstraint tableName="file_document" columnName="document_template_id"/>
            <dropColumn tableName="notification_document_template">
	            <column name="file_document_id"/>
	        </dropColumn>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_delete_demo_notification_and_document_templates" author="P35066">
        <sql>
        	delete from notification_template_document_template
        	where notification_template_id in (
        		select id from notification_template where name in ('Ad-hoc Letter', 'AV AEM Plan Approved(2009)', 'AV AEM Plan Approved(2010)', 'AV Determination Notice')
        	);
            
            delete from notification_template
            where name in ('Ad-hoc Letter', 'AV AEM Plan Approved(2009)', 'AV AEM Plan Approved(2010)', 'AV Determination Notice');
            
            delete from notification_document_template
            where name in ('Ad-hoc Letter', 'AEM Plan Approval 2009', 'AEM Plan Approval 2010');
            
            delete from file_document
            where file_name in ('EA - AEM Plan Approval Notice Letter.docx', 'AEM Plan Approval Notice.docx', 'EA Ad-hoc letter.docx');
            
            delete from databasechangelog
			where id in (
				'0_1_0_INSERT_AD_HOC_LETTER_NOTIFICATION_TEMPLATE_FOR_CA_WALES',
				'0_1_0_INSERT_AD_HOC_LETTER_DOCUMENT_TEMPLATE_FOR_CA_WALES',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2009_DOCUMENT_TEMPLATE_FOR_CA_WALES',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2010_DOCUMENT_TEMPLATE_FOR_CA_ENGLAND',
				'0_1_0_INSERT_AD_HOC_LETTER_DOCUMENT_FILE_FOR_CA_WALES',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2009_NOTIFICATION_TEMPLATE_FOR_CA_WALES',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2009_DOCUMENT_FILE_FOR_CA_WALES',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2010_NOTIFICATION_TEMPLATE_FOR_CA_ENGLAND',
				'0_1_0_INSERT_AV_AEM_PLAN_APPROVED_2010_DOCUMENT_FILE_FOR_CA_ENGLAND',
				'0_1_0_INSERT_AV_DETERMINATION_NOTICE_NOTIFICATION_TEMPLATE_FOR_CA_WALES');
        </sql>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_add_document_template_column_type" author="P35066">
        <addColumn tableName="notification_document_template">
            <column name="type" type="varchar(255)" remarks="The type of the document template">
                <constraints nullable="false" />
            </column>
        </addColumn>
        <dropUniqueConstraint tableName="notification_document_template" constraintName="document_template_uc"/>
        <addUniqueConstraint tableName="notification_document_template" columnNames="type, competent_authority" constraintName="document_template_uc"/>
        <rollback>
        	<dropUniqueConstraint tableName="notification_document_template" constraintName="document_template_uc"/>
        	<addUniqueConstraint tableName="notification_document_template" columnNames="name, competent_authority" constraintName="document_template_uc"/>
        	<dropColumn tableName="notification_document_template">
	            <column name="type"/> 
	        </dropColumn>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_change_comment_of_document_template_name_column" author="P35066">
	    <setColumnRemarks
	        tableName="notification_document_template"
	        columnName="name"
	        remarks="The display name of the document template"/>
	    <rollback>
	    	<setColumnRemarks
		        tableName="notification_document_template"
		        columnName="name"
		        remarks="The document template name"/>
	    </rollback>
	</changeSet>
	
	<changeSet id="0_1_0_rename_document_template_file_document_id_column_to_file_document_template_id" author="P35066">
        <renameColumn tableName="notification_document_template" oldColumnName="file_document_id" newColumnName="file_document_template_id"/>
        <rollback>
            <renameColumn tableName="notification_document_template" oldColumnName="file_document_template_id" newColumnName="file_document_id"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_rename_notification_document_template_operator_type_column_to_account_type" author="pafilisa@unisystems.gr">
        <renameColumn tableName="notification_document_template" oldColumnName="operator_type" newColumnName="account_type"/>
        <rollback>
            <renameColumn tableName="notification_document_template" oldColumnName="account_type" newColumnName="operator_type"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_rename_notification_template_operator_type_column_to_account_type" author="pafilisa@unisystems.gr">
        <renameColumn tableName="notification_template" oldColumnName="operator_type" newColumnName="account_type"/>
        <rollback>
            <renameColumn tableName="notification_template" oldColumnName="account_type" newColumnName="operator_type"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_DOCUMENT_TEMPLATE_ACCOUNT_TYPE_COLUMN_ADD_NOT_NULL_CONSTRAINT" author="pafilisa@unisystems.gr" >
        <addNotNullConstraint tableName="notification_document_template" columnName="account_type" />

        <rollback>
            <dropNotNullConstraint tableName="notification_document_template" columnName="account_type"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_MODIFY_DOCUMENT_TEMPLATE_UNIQUE_CONSTRAINT" author="pafilisa@unisystems.gr">
        <dropUniqueConstraint tableName="notification_document_template" constraintName="document_template_uc"/>
        <addUniqueConstraint tableName="notification_document_template" columnNames="type, competent_authority, account_type" constraintName="document_template_uc"/>

        <rollback>
            <dropUniqueConstraint tableName="notification_document_template" constraintName="document_template_uc"/>
            <addUniqueConstraint tableName="notification_document_template" columnNames="type, competent_authority" constraintName="document_template_uc"/>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_MODIFY_NOTIFICATION_TEMPLATE_UNIQUE_CONSTRAINT" author="pafilisa@unisystems.gr">
        <dropUniqueConstraint tableName="notification_template" constraintName="notification_template_uc"/>
        <addUniqueConstraint tableName="notification_template" columnNames="name, competent_authority, account_type" constraintName="notification_template_uc"/>

        <rollback>
            <dropUniqueConstraint tableName="notification_template" constraintName="notification_template_uc"/>
            <addUniqueConstraint tableName="notification_template" columnNames="name, competent_authority" constraintName="notification_template_uc"/>
        </rollback>
    </changeSet>

	<changeSet id="0_1_0_insert_RFI_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_20130402.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RFI',
            	'IN Request for Further Information', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'RFI sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L025_P3_Request_for_further_information_notice_20130402.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Further Information',
				'An important letter from the Emissions Trading Portal',
				'ENGLAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Information',
	            'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND');
            
            delete from notification_template
            where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND';
            
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where file_name = 'L025_P3_Request_for_further_information_notice_20130402.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_Mar14.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RFI',
            	'IN Request for Further Information', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'RFI sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L025_P3_Request_for_further_information_notice_Mar14.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Further Information',
				'An important letter from the Emissions Trading Portal',
				'NORTHERN_IRELAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Information',
	            'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_template
            where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND';
            
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where file_name = 'L025_P3_Request_for_further_information_notice_Mar14.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 Request for further information notice 260721.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RFI',
            	'IN Request for Further Information', 
            	'OPRED', 
            	'INSTALLATION', 
            	'RFI sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L025 Request for further information notice 260721.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Further Information',
				'An important letter from the Emissions Trading Portal',
				'OPRED',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Information',
	            'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'OPRED');
            
            delete from notification_template
            where name = 'IN Request for Further Information' and competent_authority = 'OPRED';
            
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where file_name = 'L025 Request for further information notice 260721.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice - for applications.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RFI',
            	'IN Request for Further Information', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'RFI sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L025 P3 Request for further information notice - for applications.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Further Information',
				'An important letter from the Emissions Trading Portal',
				'SCOTLAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Information',
	            'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND');
            
            delete from notification_template
            where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND';
            
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where file_name = 'L025 P3 Request for further information notice - for applications.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RFI',
            	'IN Request for Further Information', 
            	'WALES', 
            	'INSTALLATION', 
            	'RFI sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L025_P3_Request_for_further_information_notice.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Further Information',
				'An important letter from the Emissions Trading Portal',
				'WALES',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Information',
	            'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Further Information' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Further Information' and competent_authority = 'WALES');
            
            delete from notification_template
            where name = 'IN Request for Further Information' and competent_authority = 'WALES';
            
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where file_name = 'L025_P3_Request_for_further_information_notice.docx'
        </rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_insert_RFI_24_hours_expiration_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'24 hours expiration email',
				'Expiration email 24 hours',
				'ENGLAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '24 hours expiration email' and competent_authority = 'ENGLAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_24_hours_expiration_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'24 hours expiration email',
				'Expiration email 24 hours',
				'NORTHERN_IRELAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '24 hours expiration email' and competent_authority = 'NORTHERN_IRELAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_24_hours_expiration_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'24 hours expiration email',
				'Expiration email 24 hours',
				'OPRED',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '24 hours expiration email' and competent_authority = 'OPRED';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_24_hours_expiration_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'24 hours expiration email',
				'Expiration email 24 hours',
				'SCOTLAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '24 hours expiration email' and competent_authority = 'SCOTLAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_24_hours_expiration_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'24 hours expiration email',
				'Expiration email 24 hours',
				'WALES',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '24 hours expiration email' and competent_authority = 'WALES';
            </sql>
        </rollback>
    </changeSet>

	<changeSet id="0_1_0_insert_RFI_7_days_expiration_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'7 days expiration email',
				'Expiration email 7 days',
				'ENGLAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '7 days expiration email' and competent_authority = 'ENGLAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_7_days_expiration_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'7 days expiration email',
				'Expiration email 7 days',
				'NORTHERN_IRELAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '7 days expiration email' and competent_authority = 'NORTHERN_IRELAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_7_days_expiration_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'7 days expiration email',
				'Expiration email 7 days',
				'OPRED',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '7 days expiration email' and competent_authority = 'OPRED';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_7_days_expiration_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'7 days expiration email',
				'Expiration email 7 days',
				'SCOTLAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '7 days expiration email' and competent_authority = 'SCOTLAND';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RFI_7_days_expiration_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'7 days expiration email',
				'Expiration email 7 days',
				'WALES',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RFI sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${accountName} in the workflow with Workflow ID: ${workflowID} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = '7 days expiration email' and competent_authority = 'WALES';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_ACCOUNT_USERS_SETUP_MESSAGE_NOTIFICATION_TEMPLATE" author="p70453" context="migrate">

        <comment>accountId without format</comment>
        <sql>
            update notification_template set text =
            'You are currently the Admin user on your account.

You can add additional Admin users, other Operator users, Consultants or Verifiers.

Users can be managed at any time from your Dashboard by selecting ''Manage users, contacts or verifiers''

or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId?c}})'
            where name = 'AccountUsersSetup';
        </sql>
        <rollback></rollback>

    </changeSet>

    <changeSet id="0_1_0_UPDATE_INSERT_VERIFIER_NO_LONGER_AVAILABLE_MESSAGE_NOTIFICATION_TEMPLATE" author="p70453" context="migrate">

        <comment>accountId without format</comment>
        <sql>
            update notification_template set text =
            'The verifier you have appointed at your installation has been removed or suspended by the regulator and is no longer available.

You can appoint a new verifier at any time from your dashboard by selecting "Manage users, contacts or verifiers" or by clicking on this link to [Manage users, contacts and verifiers]({"action": "ACCOUNT_USERS_SETUP", "accountId": ${accountId?c}}).

If you do not appoint a verifier now, you will be reminded at the end of each calendar year and prior to the deadline for submission of your Annual Emission Monitoring report that you must appoint a verifier.'
            where name = 'VerifierNoLongerAvailable';
        </sql>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_RFI_expiration_24_hours_notification_template_content_variable_names" author="P35066">
        <sql>
            <![CDATA[
            update notification_template set text =
            'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for further information for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations'
            where name = '24 hours expiration email';]]>;
        </sql>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_RFI_expiration_7_days_notification_template_content_variable_names" author="P35066">
        <sql>
            <![CDATA[
            update notification_template set text =
            'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for further information for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations' 
			where name = '7 days expiration email';]]>;
        </sql>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_rename_RFI_reminder_notification_template_names" author="P35066">
        <sql>
        	update notification_template
        	set name = 'RFI 7 days expiration email'
        	where name = '7 days expiration email'
        	and workflow = 'RFI sub-process';
        	
        	update notification_template
        	set name = 'RFI 24 hours expiration email'
        	where name = '24 hours expiration email'
        	and workflow = 'RFI sub-process';
        </sql>
        <rollback>
        	update notification_template
        	set name = '7 days expiration email'
        	where name = 'RFI 7 days expiration email'
        	and workflow = 'RFI sub-process';
        	
        	update notification_template
        	set name = '24 hours expiration email'
        	where name = 'RFI 24 hours expiration email'
        	and workflow = 'RFI sub-process';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_RDE_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 IN Request for Determination Extension UKETS Final.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RDE',
            	'IN Request for Determination Extension', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'RDE sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L026 IN Request for Determination Extension UKETS Final.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Determination Extension',
				'An important letter from the Emissions Trading Portal',
				'ENGLAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Determination Extension',
	            'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND');
            
            delete from notification_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND';
            
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where file_name = 'L026 IN Request for Determination Extension UKETS Final.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RDE',
            	'IN Request for Determination Extension', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'RDE sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L026 P3 Request for time extension notice NI Mar 13.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Determination Extension',
				'An important letter from the Emissions Trading Portal',
				'NORTHERN_IRELAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Determination Extension',
	            'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND';
            
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where file_name = 'L026 P3 Request for time extension notice NI Mar 13.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RDE',
            	'IN Request for Determination Extension', 
            	'OPRED', 
            	'INSTALLATION', 
            	'RDE sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L026 P3 Request for time extension notice.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Determination Extension',
				'An important letter from the Emissions Trading Portal',
				'OPRED',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Determination Extension',
	            'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED');
            
            delete from notification_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED';
            
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where file_name = 'L026 P3 Request for time extension notice.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L026 - P3 Request for time extension notice - UK ETS.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RDE',
            	'IN Request for Determination Extension', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'RDE sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'ETS-P3-L026 - P3 Request for time extension notice - UK ETS.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Determination Extension',
				'An important letter from the Emissions Trading Portal',
				'SCOTLAND',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Determination Extension',
	            'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND');
            
            delete from notification_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND';
            
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where file_name = 'ETS-P3-L026 - P3 Request for time extension notice - UK ETS.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026_P3_Request_for_time_extension_notice.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'IN_RDE',
            	'IN Request for Determination Extension', 
            	'WALES', 
            	'INSTALLATION', 
            	'RDE sub-process', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L026_P3_Request_for_time_extension_notice.docx'));
    	</sql>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'IN Request for Determination Extension',
				'An important letter from the Emissions Trading Portal',
				'WALES',
	            '''Confirm and complete'' button in the Check Your Answers Web Forms Wizard Web Form, within the Submit Request for Determination Extension',
	            'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'IN Request for Determination Extension' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'IN Request for Determination Extension' and competent_authority = 'WALES');
            
            delete from notification_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'WALES';
            
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where file_name = 'L026_P3_Request_for_time_extension_notice.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_24_hours_expiration_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 24 hours expiration email',
				'Expiration email 24 hours',
				'ENGLAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 24 hours expiration email' and competent_authority = 'ENGLAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_24_hours_expiration_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 24 hours expiration email',
				'Expiration email 24 hours',
				'NORTHERN_IRELAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 24 hours expiration email' and competent_authority = 'NORTHERN_IRELAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_RDE_24_hours_expiration_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 24 hours expiration email',
				'Expiration email 24 hours',
				'OPRED',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 24 hours expiration email' and competent_authority = 'OPRED' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>    

	<changeSet id="0_1_0_insert_RDE_24_hours_expiration_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 24 hours expiration email',
				'Expiration email 24 hours',
				'SCOTLAND',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 24 hours expiration email' and competent_authority = 'SCOTLAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>

	<changeSet id="0_1_0_insert_RDE_24_hours_expiration_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 24 hours expiration email',
				'Expiration email 24 hours',
				'WALES',
				'24 hours before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 24 hours the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 24 hours expiration email' and competent_authority = 'WALES' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>

	<changeSet id="0_1_0_insert_RDE_7_days_expiration_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 7 days expiration email',
				'Expiration email 7 days',
				'ENGLAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 7 days expiration email' and competent_authority = 'ENGLAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_7_days_expiration_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 7 days expiration email',
				'Expiration email 7 days',
				'NORTHERN_IRELAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 7 days expiration email' and competent_authority = 'NORTHERN_IRELAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_7_days_expiration_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 7 days expiration email',
				'Expiration email 7 days',
				'OPRED',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 7 days expiration email' and competent_authority = 'OPRED' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_7_days_expiration_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 7 days expiration email',
				'Expiration email 7 days',
				'SCOTLAND',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 7 days expiration email' and competent_authority = 'SCOTLAND' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_RDE_7_days_expiration_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            insert into notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text)
			values (
				nextval('notification_template_seq'),
				'RDE 7 days expiration email',
				'Expiration email 7 days',
				'WALES',
				'168 hours (7 days) before the expiration of the deadline of the pending task.',
				'INSTALLATION',
	            'RDE sub-process',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
				'Dear ${accountPrimaryContact}

Please note that in 7 days the task in the request for determination extension for ${installationAccountName} in the workflow with Workflow ID: ${workflowId} ${workflowType} is going to expire.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template where name = 'RDE 7 days expiration email' and competent_authority = 'WALES' and workflow = 'RDE sub-process';
            </sql>
        </rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_delete_rfi_rde_notification_templates" author="P35066">
        <sql>
        	delete from notification_template_document_template
            where notification_template_id in (select id from notification_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension'));
            
            delete from notification_template
            where name in ('IN Request for Further Information', 'IN Request for Determination Extension'); 
        </sql>
        <rollback>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_official_notice_notification_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic email Template for Installation letter',
				'An important letter from the Emissions Trading Portal',
				'ENGLAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
        	select nt.id, ndt.id
        	from notification_template nt
        	cross join notification_document_template ndt
        	where nt.name = 'Generic email Template for Installation letter'
        	and nt.competent_authority = 'ENGLAND'
        	and ndt.competent_authority = 'ENGLAND'
        	and ndt.name in ('IN Request for Further Information', 'IN Request for Determination Extension');
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id in (
            	select id from notification_document_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension')
            	 and competent_authority = 'ENGLAND');
            
            delete from notification_template
            where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_official_notice_notification_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic email Template for Installation letter',
				'An important letter from the Emissions Trading Portal',
				'NORTHERN_IRELAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
        	select nt.id, ndt.id
        	from notification_template nt
        	cross join notification_document_template ndt
        	where nt.name = 'Generic email Template for Installation letter'
        	and nt.competent_authority = 'NORTHERN_IRELAND'
        	and ndt.competent_authority = 'NORTHERN_IRELAND'
        	and ndt.name in ('IN Request for Further Information', 'IN Request for Determination Extension');
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id in (
            	select id from notification_document_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension')
            	 and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_template
            where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_official_notice_notification_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic email Template for Installation letter',
				'An important letter from the Emissions Trading Portal',
				'OPRED',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
        	select nt.id, ndt.id
        	from notification_template nt
        	cross join notification_document_template ndt
        	where nt.name = 'Generic email Template for Installation letter'
        	and nt.competent_authority = 'OPRED'
        	and ndt.competent_authority = 'OPRED'
        	and ndt.name in ('IN Request for Further Information', 'IN Request for Determination Extension');
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id in (
            	select id from notification_document_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension')
            	 and competent_authority = 'OPRED');
            
            delete from notification_template
            where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_official_notice_notification_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic email Template for Installation letter',
				'An important letter from the Emissions Trading Portal',
				'SCOTLAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
        	select nt.id, ndt.id
        	from notification_template nt
        	cross join notification_document_template ndt
        	where nt.name = 'Generic email Template for Installation letter'
        	and nt.competent_authority = 'SCOTLAND'
        	and ndt.competent_authority = 'SCOTLAND'
        	and ndt.name in ('IN Request for Further Information', 'IN Request for Determination Extension');
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id in (
            	select id from notification_document_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension')
            	 and competent_authority = 'SCOTLAND');
            
            delete from notification_template
            where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_official_notice_notification_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic email Template for Installation letter',
				'An important letter from the Emissions Trading Portal',
				'WALES',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${accountPrimaryContact}

Please find attached a letter from the Emissions Trading Operations team in relation to your installation.

If you have any queries in relation to this letter, please contact the relevant Technical Officer.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
        	select nt.id, ndt.id
        	from notification_template nt
        	cross join notification_document_template ndt
        	where nt.name = 'Generic email Template for Installation letter'
        	and nt.competent_authority = 'WALES'
        	and ndt.competent_authority = 'WALES'
        	and ndt.name in ('IN Request for Further Information', 'IN Request for Determination Extension');
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id in (
            	select id from notification_document_template where name in ('IN Request for Further Information', 'IN Request for Determination Extension')
            	 and competent_authority = 'WALES');
            
            delete from notification_template
            where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES';
        </rollback>
    </changeSet>
    
    
    
    <changeSet id="0_1_0_delete_rfi_rde_expiration_notification_templates" author="P35066">
        <sql>
            delete from notification_template
            where name in ('RFI 24 hours expiration email', 'RFI 7 days expiration email', 'RDE 24 hours expiration email', 'RDE 7 days expiration email'); 
        </sql>
        <rollback>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic Expiration Reminder Template',
				'${workflow} ${workflowTask} (${expirationTime} remaining)',
				'ENGLAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${workflowUser}

Operator name: ${legalEntityName}

Installation name: ${installationAccountName}

Permit reference: ${(permitId)!}

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>
        
        <rollback>
            delete from notification_template
            where name = 'Generic Expiration Reminder Template' and competent_authority = 'ENGLAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic Expiration Reminder Template',
				'${workflow} ${workflowTask} (${expirationTime} remaining)',
				'NORTHERN_IRELAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${workflowUser}

Operator name: ${legalEntityName}

Installation name: ${installationAccountName}

Permit reference: ${(permitId)!}

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>
        
        <rollback>
            delete from notification_template
            where name = 'Generic Expiration Reminder Template' and competent_authority = 'NORTHERN_IRELAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic Expiration Reminder Template',
				'${workflow} ${workflowTask} (${expirationTime} remaining)',
				'OPRED',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${workflowUser}

Operator name: ${legalEntityName}

Installation name: ${installationAccountName}

Permit reference: ${(permitId)!}

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>
        
        <rollback>
            delete from notification_template
            where name = 'Generic Expiration Reminder Template' and competent_authority = 'OPRED';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic Expiration Reminder Template',
				'${workflow} ${workflowTask} (${expirationTime} remaining)',
				'SCOTLAND',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${workflowUser}

Operator name: ${legalEntityName}

Installation name: ${installationAccountName}

Permit reference: ${(permitId)!}

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>
        
        <rollback>
            delete from notification_template
            where name = 'Generic Expiration Reminder Template' and competent_authority = 'SCOTLAND';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
    	<sql>
            <![CDATA[
            INSERT INTO notification_template (
	            id,
	            name,
	            subject,
	            competent_authority,
	            event_trigger,
	            account_type,
	            workflow,
	            role_type,
	            is_managed,
	            last_updated_date,
	            text
	            )
			VALUES (
				nextval('notification_template_seq'),
				'Generic Expiration Reminder Template',
				'${workflow} ${workflowTask} (${expirationTime} remaining)',
				'WALES',
	            '[TBC]',
	            'INSTALLATION',
	            '[TBC]',
	            'OPERATOR',
	            true,
	            '2022-03-27 00:00:00',
	            'Dear ${workflowUser}

Operator name: ${legalEntityName}

Installation name: ${installationAccountName}

Permit reference: ${(permitId)!}

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>
        
        <rollback>
            delete from notification_template
            where name = 'Generic Expiration Reminder Template' and competent_authority = 'WALES';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS Final v1.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDERED_NOTICE',
            	'Permit surrender notice', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L028 IN Surrendered UKETS Final v1.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Permit surrender notice' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L028 IN Surrendered UKETS Final v1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDERED_NOTICE',
            	'Permit surrender notice', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L028 Surrendered NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Permit surrender notice' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L028 Surrendered NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered 08122021.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDERED_NOTICE',
            	'Permit surrender notice', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L028 Surrendered 08122021.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Permit surrender notice' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L028 Surrendered 08122021.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="UKETS L028 - Surrendered (2).docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDERED_NOTICE',
            	'Permit surrender notice', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'UKETS L028 - Surrendered (2).docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Permit surrender notice' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UKETS L028 - Surrendered (2).docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS NRW July 21.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDERED_NOTICE',
            	'Permit surrender notice', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L028 IN Surrendered UKETS NRW July 21.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit surrender notice' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Permit surrender notice' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L028 IN Surrendered UKETS NRW July 21.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_rejected_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused UKETS Final v1.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_REJECTED_NOTICE',
            	'Permit Surrender Refused Notice', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L031 Surrender Refused UKETS Final v1.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Refused Notice' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L031 Surrender Refused UKETS Final v1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_rejected_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_REJECTED_NOTICE',
            	'Permit Surrender Refused Notice', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L031 Surrender Refused NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Refused Notice' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L031 Surrender Refused NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_rejected_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_REJECTED_NOTICE',
            	'Permit Surrender Refused Notice', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L031 Surrender Refused.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Permit Surrender Refused Notice' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L031 Surrender Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_rejected_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_REJECTED_NOTICE',
            	'Permit Surrender Refused Notice', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Refused Notice' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_rejected_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_REJECTED_NOTICE',
            	'Permit Surrender Refused Notice', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L031 Surrender Refused.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Refused Notice' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Permit Surrender Refused Notice' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L031 Surrender Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_deemed_withdrawn_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn - Final 05032013.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE',
            	'Permit Surrender Deemed Withdrawn Notice', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L132 Surrender Deemed Withdrawn - Final 05032013.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L132 Surrender Deemed Withdrawn - Final 05032013.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_deemed_withdrawn_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE',
            	'Permit Surrender Deemed Withdrawn Notice', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L132 Surrender Deemed Withdrawn NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L132 Surrender Deemed Withdrawn NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_deemed_withdrawn_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE',
            	'Permit Surrender Deemed Withdrawn Notice', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L132 Surrender Deemed Withdrawn.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L132 Surrender Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_deemed_withdrawn_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE',
            	'Permit Surrender Deemed Withdrawn Notice', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_deemed_withdrawn_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE',
            	'Permit Surrender Deemed Withdrawn Notice', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L132 Surrender Deemed Withdrawn.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Permit Surrender Deemed Withdrawn Notice' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L132 Surrender Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_cessation_complete_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender 23062014.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_CESSATION',
            	'Cessation Notice after Permit Surrender', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation Following Surrender 23062014.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation Following Surrender 23062014.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_cessation_complete_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_CESSATION',
            	'Cessation Notice after Permit Surrender', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation Following Surrender NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation Following Surrender NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_cessation_complete_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender OPRED.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_CESSATION',
            	'Cessation Notice after Permit Surrender', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation Following Surrender OPRED.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation Following Surrender OPRED.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_cessation_complete_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L022 - Cessation following surrender.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_CESSATION',
            	'Cessation Notice after Permit Surrender', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'ETS-P3-L022 - Cessation following surrender.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'ETS-P3-L022 - Cessation following surrender.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_surrender_cessation_complete_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022_Cessation_Following_Surrender test 1.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_SURRENDER_CESSATION',
            	'Cessation Notice after Permit Surrender', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit surrender', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022_Cessation_Following_Surrender test 1.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Surrender' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022_Cessation_Following_Surrender test 1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_notification_follow_up_accepted_for_ca_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Permit Notification Operator Response',
                       'Permit Notification Operator Response',
                       'ENGLAND',
                       'Notification Operator Response',
                       'INSTALLATION',
                       'Permit Notification',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${accountPrimaryContact}
       
The Follow up response of the Notification with Workflow ID: ${workflowId} has been accepted.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>

        <rollback>
            delete from notification_template
            where name = 'Permit Notification Operator Response' and competent_authority = 'ENGLAND';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_notification_follow_up_accepted_for_ca_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Permit Notification Operator Response',
                       'Permit Notification Operator Response',
                       'WALES',
                       'Notification Operator Response',
                       'INSTALLATION',
                       'Permit Notification',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${accountPrimaryContact}
       
The Follow up response of the Notification with Workflow ID: ${workflowId} has been accepted.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>

        <rollback>
            delete from notification_template
            where name = 'Permit Notification Operator Response' and competent_authority = 'WALES';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_notification_follow_up_accepted_for_ca_northern_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Permit Notification Operator Response',
                       'Permit Notification Operator Response',
                       'NORTHERN_IRELAND',
                       'Notification Operator Response',
                       'INSTALLATION',
                       'Permit Notification',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${accountPrimaryContact}
       
The Follow up response of the Notification with Workflow ID: ${workflowId} has been accepted.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>

        <rollback>
            delete from notification_template
            where name = 'Permit Notification Operator Response' and competent_authority = 'NORTHERN_IRELAND';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_notification_follow_up_accepted_for_ca_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Permit Notification Operator Response',
                       'Permit Notification Operator Response',
                       'SCOTLAND',
                       'Notification Operator Response',
                       'INSTALLATION',
                       'Permit Notification',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${accountPrimaryContact}
       
The Follow up response of the Notification with Workflow ID: ${workflowId} has been accepted.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>

        <rollback>
            delete from notification_template
            where name = 'Permit Notification Operator Response' and competent_authority = 'SCOTLAND';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_notification_follow_up_accepted_for_ca_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Permit Notification Operator Response',
                       'Permit Notification Operator Response',
                       'OPRED',
                       'Notification Operator Response',
                       'INSTALLATION',
                       'Permit Notification',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${accountPrimaryContact}
       
The Follow up response of the Notification with Workflow ID: ${workflowId} has been accepted.

Kind regards,

Emissions Trading Operations')
            ]]>;
        </sql>

        <rollback>
            delete from notification_template
            where name = 'Permit Notification Operator Response' and competent_authority = 'OPRED';
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_accepted_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_ACCEPTED',
                       'Permit Notification Acknowledgement Letter',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L010 IN Notification Accepted_20210204.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where file_name = 'L010 IN Notification Accepted_20210204.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_accepted_template_for_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted 260721.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_ACCEPTED',
                       'Permit Notification Acknowledgement Letter',
                       'OPRED',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L010 IN Notification Accepted 260721.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'OPRED';

            delete from file_document_template
            where file_name = 'L010 IN Notification Accepted 260721.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_accepted_template_for_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010_IN_Notification_Accepted_NI_UK Nov 2021.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_ACCEPTED',
                       'Permit Notification Acknowledgement Letter',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L010_IN_Notification_Accepted_NI_UK Nov 2021.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where file_name = 'L010_IN_Notification_Accepted_NI_UK Nov 2021.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_accepted_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204_NRW_HT.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_ACCEPTED',
                       'Permit Notification Acknowledgement Letter',
                       'WALES',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L010 IN Notification Accepted_20210204_NRW_HT.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'WALES';

            delete from file_document_template
            where file_name = 'L010 IN Notification Accepted_20210204_NRW_HT.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_accepted_template_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted - UK ETS update doc FINAL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_ACCEPTED',
                       'Permit Notification Acknowledgement Letter',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L010 IN Notification Accepted - UK ETS update doc FINAL.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit Notification Acknowledgement Letter' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where file_name = 'L010 IN Notification Accepted - UK ETS update doc FINAL.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_refused_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_REFUSED',
                       'Permit Notification Refusal Letter',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L011 IN Notification Refused_20210402.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit Notification Refusal Letter' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where file_name = 'L011 IN Notification Refused_20210402.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_refused_template_for_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused 260721.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_REFUSED',
                       'Permit Notification Refusal Letter',
                       'OPRED',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L011 IN Notification Refused 260721.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit Notification Refusal Letter' and competent_authority = 'OPRED';

            delete from file_document_template
            where file_name = 'L011 IN Notification Refused 260721.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_refused_template_for_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused NI UK ETS feb 2021.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_REFUSED',
                       'Permit Notification Refusal Letter',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L011 IN Notification Refused NI UK ETS feb 2021.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit Notification Refusal Letter' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where file_name = 'L011 IN Notification Refused NI UK ETS feb 2021.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_refused_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402_NRW_HT.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_REFUSED',
                       'Permit Notification Refusal Letter',
                       'WALES',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L011 IN Notification Refused_20210402_NRW_HT.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit Notification Refusal Letter' and competent_authority = 'WALES';

            delete from file_document_template
            where file_name = 'L011 IN Notification Refused_20210402_NRW_HT.docx'
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_notification_refused_template_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_NOTIFICATION_REFUSED',
                       'Permit Notification Refusal Letter',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit notification',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L011 IN Notification Refused.docx'));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Notification Refusal Letter' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit Notification Refusal Letter' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where file_name = 'L011 IN Notification Refused.docx'
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION',
            	'Permit Revocation Notice', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Notice' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION',
            	'Permit Revocation Notice', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L020 Revocation NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Notice' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L020 Revocation NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION',
            	'Permit Revocation Notice', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L020 Revocation.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Permit Revocation Notice' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L020 Revocation.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-03-L020 - Revocation P3 - USE.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION',
            	'Permit Revocation Notice', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'ETS-03-L020 - Revocation P3 - USE.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Notice' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'ETS-03-L020 - Revocation P3 - USE.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation updated 22 12 20.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION',
            	'Permit Revocation Notice', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L020 Revocation updated 22 12 20.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Notice' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Permit Revocation Notice' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L020 Revocation updated 22 12 20.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    
    
    <changeSet id="0_1_0_insert_permit_revocation_withdrawn_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 IN Revocation Withdrawn.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_WITHDRAWN',
            	'Permit Revocation Withdrawn Notice', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L021 IN Revocation Withdrawn.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L021 IN Revocation Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_withdrawn_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn NI Mar 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_WITHDRAWN',
            	'Permit Revocation Withdrawn Notice', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L021 Revocation Withdrawn NI Mar 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L021 Revocation Withdrawn NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_withdrawn_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_WITHDRAWN',
            	'Permit Revocation Withdrawn Notice', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L021 Revocation Withdrawn.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L021 Revocation Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_withdrawn_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_WITHDRAWN',
            	'Permit Revocation Withdrawn Notice', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_withdrawn_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_WITHDRAWN',
            	'Permit Revocation Withdrawn Notice', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L021 Revocation Withdrawn.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Permit Revocation Withdrawn Notice' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L021 Revocation Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    
    
    <changeSet id="0_1_0_insert_permit_revocation_cessation_notice_email_template_for_ca_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation letter 20130724.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_CESSATION',
            	'Cessation Notice after Permit Revocation', 
            	'ENGLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation letter 20130724.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'ENGLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'ENGLAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'ENGLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation letter 20130724.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_cessation_notice_email_template_for_ca_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation NI MAr 13.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_CESSATION',
            	'Cessation Notice after Permit Revocation', 
            	'NORTHERN_IRELAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation NI MAr 13.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'NORTHERN_IRELAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'NORTHERN_IRELAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'NORTHERN_IRELAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation NI MAr 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_cessation_notice_email_template_for_ca_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 P3 Cessation.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_CESSATION',
            	'Cessation Notice after Permit Revocation', 
            	'OPRED', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 P3 Cessation.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'OPRED')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'OPRED');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'OPRED';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 P3 Cessation.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_cessation_notice_email_template_for_ca_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_CESSATION',
            	'Cessation Notice after Permit Revocation', 
            	'SCOTLAND', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'SCOTLAND')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'SCOTLAND');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'SCOTLAND';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_revocation_cessation_notice_email_template_for_ca_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx" />
        </customChange>
        <sql>
    		insert into notification_document_template (
    			id,
    			type,
    			name, 
    			competent_authority, 
    			account_type, 
    			workflow, 
    			last_updated_date, 
    			file_document_template_id)
            values (
            	nextval('notification_document_template_seq'),
            	'PERMIT_REVOCATION_CESSATION',
            	'Cessation Notice after Permit Revocation', 
            	'WALES', 
            	'INSTALLATION', 
            	'Permit Revocation', 
            	'2022-03-27 00:00:00', 
            	(select id from file_document_template where file_name = 'L022 Cessation.docx' order by id desc limit 1));
    	</sql>
        <sql>
        	insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
            (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
            (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'WALES')
            );
        </sql>
        
        <rollback>
        	delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'WALES');
            
            delete from notification_document_template
            where name = 'Cessation Notice after Permit Revocation' and competent_authority = 'WALES';
        	
            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L022 Cessation.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_notice_email_template_for_ca_england_rename_etswap_to_pmrv" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_notice_email_template_for_ca_scotland_rename_etswap_to_pmrv" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-03-L020 - Revocation P3 - USE.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_notice_email_template_for_ca_wales_rename_etswap_to_pmrv" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation updated 22 12 20.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_update_permit_surrendered_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_SURRENDERED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS Final v1.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_refused_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused UKETS Final v1.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_cessation_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender 23062014.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrendered_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_SURRENDERED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_refused_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_cessation_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrendered_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_SURRENDERED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="UKETS L028 - Surrendered (2).docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_cessation_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L022 - Cessation following surrender.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrendered_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_SURRENDERED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS NRW July 21.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_refused_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_surrender_cessation_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022_Cessation_Following_Surrender test 1.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_withdrawn_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 IN Revocation Withdrawn.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_cessation_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation letter 20130724.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_withdrawn_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_cessation_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation NI MAr 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-03-L020 - Revocation P3 - USE.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_cessation_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation updated 22 12 20.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_withdrawn_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_revocation_cessation_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_england_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010_IN_Notification_Accepted_NI_UK Nov 2021.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_northern_ireland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused NI UK ETS feb 2021.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted - UK ETS update doc FINAL.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_scotland_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_wales_fix_address" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrendered_template_for_ca_wales_fix_yours_faithfully" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_SURRENDERED_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS NRW July 21.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_cessation_template_for_ca_england_fix_competent_authority_display" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation letter 20130724.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_cessation_template_for_ca_scotland_fix_competent_authority_display" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_REVOCATION_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_revocation_withdrawn_template_for_ca_northern_ireland_fix_to_word" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_deemed_withdrawn_template_for_ca_england_fix_syntax_in_missing_property" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn - Final 05032013.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_deemed_withdrawn_template_for_ca_northern_ireland_fix_syntax_in_missing_property" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_deemed_withdrawn_template_for_ca_opred_fix_syntax_in_missing_property" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_deemed_withdrawn_template_for_ca_wales_fix_syntax_in_missing_property" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_cessation_template_for_ca_opred_fix_signature" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender OPRED.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_cessation_template_for_ca_scotland_fix_signature" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L022 - Cessation following surrender.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_surrender_cessation_template_for_ca_northern_ireland_fix_permit_reference_text" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="type" value="PERMIT_SURRENDER_CESSATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender NI Mar 13.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_INSERT_USER_FEEDBACK_NOTIFICATION_TEMPLATE" author="P63767">

        <comment>Insert record in notification_template Table for User Feedback email</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text)
            VALUES (
                   nextval('notification_template_seq'),
                   'UserFeedbackForService',
                   'New feedback received on PMRV',
                   '## Survey results:

 **Domain** ${domainUrl}
 **Time created** ${timestamp}
 - **User registration & 2FA**
     - Rating: ${userRegistrationRate}
     - Reason: ${userRegistrationRateReason}
 - **Online guidance & communication**
     - Rating: ${onlineGuidanceRate}
     - Reason: ${onlineGuidanceRateReason}
 - **Create accounts**
     - Rating: ${creatingAccountRate}
     - Reason: ${creatingAccountRateReason}
 - **On-boarding, Identity & security checks**
     - Rating: ${onBoardingRate}
     - Reason: ${onBoardingRateReason}
 - **View, search & respond to tasks**
     - Rating: ${tasksRate}
     - Reason: ${tasksRateReason}
 - **Overall experience**
     - Rating: ${satisfactionRate}
     - Reason: ${satisfactionRateReason}
 - **Improvement Suggestion**
     ${improvementSuggestion}
                   '
               )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'UserFeedbackForService';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_UPDATE_EMAIL_CONFIRMATION_NOTIFICATION_TEMPLATE_SUBJECT_AND_TEXT" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET subject = 'Confirm your email address - Manage your UK ETS reporting',
                text = 'We received a request to create a sign in for the UK ETS reporting service.

Use this link to confirm your email:

[Confirm your email address](${emailConfirmationLink})

If you did not request this reporting service sign in you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

This is an automatic email - please do not reply to this address.'
            WHERE name = 'EmailConfirmation';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'Confirm your email address - PMRV',
                    text = 'Thank you for starting the registration process with Permitting, Monitoring, Reporting,
Verification system (PMRV).

To confirm your email address, please click on the following link:

[Verify your email address and continue with the registration process](${emailConfirmationLink})

If you did not request this verification email, contact the PMRV at info@pmrv.com.

Do not reply, this is an automatic email.'
                WHERE name = 'EmailConfirmation';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_USER_ACCOUNT_CREATED_NOTIFICATION_TEMPLATE_SUBJECT_AND_TEXT" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET subject = 'User account created - Manage your UK ETS reporting',
            text = 'A UK ETS reporting service sign in has been created for ${userEmail}

You will be asked to provide this email address if you forget or want to change your password.

If you did not request this reporting service sign in you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

This is an automatic email - please do not reply to this address.'
            WHERE name = 'UserAccountCreated';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'User account created - PMRV',
                text = 'Dear ${userFirstName} ${userLastName},

This is to notify you that a user account has been created in PMRV for the below company contact details:

First name: ${userFirstName}

Last name: ${userLastName}

Email address: ${userEmail}

You will be asked to provide this email address if you forget your password or want to change your password.

Kind Regards,

PMRV Helpdesk'
                WHERE name = 'UserAccountCreated';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_ACCOUNT_APPLICATION_RECEIVED_NOTIFICATION_TEMPLATE_SUBJECT_AND_TEXT" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET subject = 'Installation account application received - Manage your UK ETS reporting',
            text = 'We received your application to set up an installation account.

We’ll review your application and respond within 10 working days.

If you did not make this application you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

This is an automatic email - please do not reply to this address.'
            WHERE name = 'AccountApplicationReceived';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'PMRV account application received',
                text = 'Dear ${applicantFirstName} ${applicantLastName},

Thank you for applying to set up a PMRV account.

We’ll check your application, then let you know if you’ve been successful within 10 working days.

Regards,

${competentAuthorityName}'
                WHERE name = 'AccountApplicationReceived';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_GHGE_approval_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 GHG Approved letter 01102021.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_GHGE_ACCEPTED',
                       'GHGE Permit Application Approval Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 GHG Approved letter 01102021.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 GHG Approved letter 01102021.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_GHGE_approval_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplicationGHGE_Approved_UKETS Final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_GHGE_ACCEPTED',
                       'GHGE Permit Application Approval Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'INPermitApplicationGHGE_Approved_UKETS Final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'INPermitApplicationGHGE_Approved_UKETS Final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_GHGE_approval_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN GHG Approved NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_GHGE_ACCEPTED',
                       'GHGE Permit Application Approval Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN GHG Approved NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN GHG Approved NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_GHGE_approval_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3_-_IN_GHG_Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_GHGE_ACCEPTED',
                       'GHGE Permit Application Approval Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3_-_IN_GHG_Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3_-_IN_GHG_Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_GHGE_approval_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L013 - INPermitApplication_L013.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_GHGE_ACCEPTED',
                       'GHGE Permit Application Approval Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'ETS-P3-L013 - INPermitApplication_L013.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'GHGE Permit Application Approval Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'ETS-P3-L013 - INPermitApplication_L013.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_HSE_approval_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_HSE_ACCEPTED',
                       'HSE Permit Application Approval Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN EIE Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'HSE Permit Application Approval Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN EIE Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_HSE_approval_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_HSE_ACCEPTED',
                       'HSE Permit Application Approval Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN EIE Approved NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'HSE Permit Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN EIE Approved NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_HSE_approval_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_HSE_ACCEPTED',
                       'HSE Permit Application Approval Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN EIE Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'HSE Permit Application Approval Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN EIE Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_HSE_approval_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_HSE_ACCEPTED',
                       'HSE Permit Application Approval Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'HSE Permit Application Approval Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'HSE Permit Application Approval Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_refused_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L015 P3 Permit Application Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_REJECTED',
                       'Permit Application Rejection Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L015 P3 Permit Application Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit Application Rejection Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L015 P3 Permit Application Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_refused_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused with internal review.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_REJECTED',
                       'Permit Application Rejection Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Refused with internal review.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit Application Rejection Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Refused with internal review.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_refused_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_REJECTED',
                       'Permit Application Rejection Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit Application Rejection Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_refused_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_REJECTED',
                       'Permit Application Rejection Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit Application Rejection Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_refused_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_REJECTED',
                       'Permit Application Rejection Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Rejection Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit Application Rejection Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_deemed_withdrawn_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L017 P3 Permit Application Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_DEEMED_WITHDRAWN',
                       'Permit Application Deemed withdrawn Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L017 P3 Permit Application Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L017 P3 Permit Application Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_deemed_withdrawn_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_DEEMED_WITHDRAWN',
                       'Permit Application Deemed withdrawn Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_deemed_withdrawn_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_DEEMED_WITHDRAWN',
                       'Permit Application Deemed withdrawn Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_deemed_withdrawn_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_DEEMED_WITHDRAWN',
                       'Permit Application Deemed withdrawn Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 - IN Permit Application Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_issuance_deemed_withdrawn_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_ISSUANCE_DEEMED_WITHDRAWN',
                       'Permit Application Deemed withdrawn Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_wales_fix_footer_and_text_above_signature" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_wales_fix_footer_and_text_above_signature" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_scotland_fix_emissions_text_and_text_above_signature" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_opred_remove_email_on_notification_refused" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused 260721.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>


    <changeSet id="0_1_0_update_permit_notification_accepted_email_template_for_ca_wales_add_newline_on_yours_faithfully" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_wales_add_newline_on_yours_faithfully" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402_NRW_HT.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_scotland_add_newline_on_yours_faithfully" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    <changeSet id="0_1_0_update_permit_notification_refused_email_template_for_ca_opred_fix_footer" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused 260721.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_document_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT',
                       'Permit for Installation',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'INPermitApplication_Permit_UK ETS Final v5.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit for Installation' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'INPermitApplication_Permit_UK ETS Final v5.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_document_template_for_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT',
                       'Permit for Installation',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'INPermitApplication_Permit_UK ETS Final v5.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit for Installation' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'INPermitApplication_Permit_UK ETS Final v5.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_documents_param_refactor" author="P70605">
        
        <!--        ENGLAND        -->
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_REVOCATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 IN Revocation Withdrawn.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender 23062014.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_REVOCATION_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation letter 20130724.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_20130402.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 IN Request for Determination Extension UKETS Final.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS Final v1.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused UKETS Final v1.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn - Final 05032013.docx"/>
        </customChange>
        
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused with internal review.docx"/>
        </customChange>

        <!--        NORTHERN IRELAND        -->

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010_IN_Notification_Accepted_NI_UK Nov 2021.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused NI UK ETS feb 2021.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_REVOCATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_REVOCATION_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation NI MAr 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_Mar14.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused.docx"/>
        </customChange>

        <!--        OPRED        -->

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted 260721.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused 260721.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_ISSUANCE_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L015 P3 Permit Application Refused.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_REVOCATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender OPRED.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_REVOCATION_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 P3 Cessation.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 Request for further information notice 260721.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered 08122021.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 GHG Approved letter 01102021.docx"/>
        </customChange>

        <!--        SCOTLAND        -->

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_REVOCATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-03-L020 - Revocation P3 - USE.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L022 - Cessation following surrender.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L026 - P3 Request for time extension notice - UK ETS.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted - UK ETS update doc FINAL.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_REVOCATION_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice - for applications.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="UKETS L028 - Surrendered (2).docx"/>
        </customChange>

        <!--        WALES        -->

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_NOTIFICATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L010 IN Notification Accepted_20210204_NRW_HT.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_NOTIFICATION_REFUSED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L011 IN Notification Refused_20210402_NRW_HT.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_REVOCATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020 Revocation updated 22 12 20.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_REVOCATION_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L021 Revocation Withdrawn.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_REVOCATION_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022_Cessation_Following_Surrender test 1.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026_P3_Request_for_time_extension_notice.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 IN Surrendered UKETS NRW July 21.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_SURRENDER_REJECTED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L031 Surrender Refused.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_SURRENDER_DEEMED_WITHDRAWN_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L132 Surrender Deemed Withdrawn.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN Permit Application Refused.docx"/>
        </customChange>
        
        <rollback></rollback>
        
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_variation_accepted_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 IN Variation Approved UKETS Final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_ACCEPTED',
                       'Permit variation approval notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L044 IN Variation Approved UKETS Final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit variation approval notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L044 IN Variation Approved UKETS Final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_accepted_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 IN Variation Approved UKETS NI june 21.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_ACCEPTED',
                       'Permit variation approval notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L044 IN Variation Approved UKETS NI june 21.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit variation approval notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L044 IN Variation Approved UKETS NI june 21.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_accepted_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 Variation Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_ACCEPTED',
                       'Permit variation approval notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L044 Variation Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit variation approval notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L044 Variation Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_accepted_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L044 - Phase III Operator Initiated Variation Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_ACCEPTED',
                       'Permit variation approval notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'ETS-P3-L044 - Phase III Operator Initiated Variation Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit variation approval notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'ETS-P3-L044 - Phase III Operator Initiated Variation Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_accepted_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 IN Variation Approved UKETS Final NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_ACCEPTED',
                       'Permit variation approval notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L044 IN Variation Approved UKETS Final NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation approval notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit variation approval notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L044 IN Variation Approved UKETS Final NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_variation_rejected_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 IN Variation Refused UKETS Final v1.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REJECTED',
                       'Permit variation rejection notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L040 IN Variation Refused UKETS Final v1.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit variation rejection notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L040 IN Variation Refused UKETS Final v1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_rejected_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Refused NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REJECTED',
                       'Permit variation rejection notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L040 Refused NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit variation rejection notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L040 Refused NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_rejected_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Variation Refused opred.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REJECTED',
                       'Permit variation rejection notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L040 Variation Refused opred.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit variation rejection notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L040 Variation Refused opred.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_rejected_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REJECTED',
                       'Permit variation rejection notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit variation rejection notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_rejected_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Refused UK ETS version 1.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REJECTED',
                       'Permit variation rejection notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L040 Refused UK ETS version 1.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation rejection notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit variation rejection notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L040 Refused UK ETS version 1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_variation_deemed_withdrawn_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L041 Deemed Withdrawn UKETS Final v1.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_DEEMED_WITHDRAWN',
                       'Permit variation deemed withdrawn notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L041 Deemed Withdrawn UKETS Final v1.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L041 Deemed Withdrawn UKETS Final v1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_deemed_withdrawn_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L041 Deemed Withdrawn NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_DEEMED_WITHDRAWN',
                       'Permit variation deemed withdrawn notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L041 Deemed Withdrawn NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L041 Deemed Withdrawn NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_deemed_withdrawn_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L041 Variation Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_DEEMED_WITHDRAWN',
                       'Permit variation deemed withdrawn notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L041 Variation Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L041 Variation Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_deemed_withdrawn_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_DEEMED_WITHDRAWN',
                       'Permit variation deemed withdrawn notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_deemed_withdrawn_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L041 Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_DEEMED_WITHDRAWN',
                       'Permit variation deemed withdrawn notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L041 Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit variation deemed withdrawn notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L041 Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_up_to_calculation_without_style" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <comment>Create permit content up to and including calculation, pending style</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_document_add_variation_details" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Add variation details in permit pdf</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_add_management_procedures_England" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Add management procedures and calculation approach in permit pdf</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_add_management_procedures_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Add management procedures and calculation approach in permit pdf</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_England_fix_boolean" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <comment>Remove double question mark operator from boolean check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document__Northern_Ireland_fix_boolean" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <comment>Remove double question mark operator from boolean check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_England_styling" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Northern_Ireland_styling" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_variation_rejected_template_for_northern_ireland_change_carbon_dioxide_date" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Change 1st January 2005 to 1st January 2013 in permit variation rejected pdf</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_VARIATION_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Refused NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_England_small_errors" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix some errors</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Northern_Ireland_small_errors" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix some errors</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Scotland_initial_document" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Initial document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT',
                       'Permit for Installation',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit for Installation' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Wales_initial_document" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Initial document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT',
                       'Permit for Installation',
                       'WALES',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'INPermitApplication_Permit_jan 21 variation MP update NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit for Installation' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'INPermitApplication_Permit_jan 21 variation MP update NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_OPRED_initial_document" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Initial document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT',
                       'Permit for Installation',
                       'OPRED',
                       'INSTALLATION',
                       'Permit issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit for Installation' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit for Installation' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_variation_rejected_template_for_northern_ireland_change_content_to_regulated_activity" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Change Schedule 1 activity to regulated activity in permit variation rejected pdf</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_VARIATION_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Refused NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_England_add_pfc_and_fallback" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Northern_Ireland_add_pfc_and_fallback" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Opred_add_pfc_and_fallback" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Scotland_add_pfc_and_fallback" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_Wales_add_pfc_and_fallback" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Improved styling</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_EA_permit_document_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NIEA_permit_document_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NIEA_permit_application_GHGE_approval_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN GHG Approved NIEA.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_document_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_application_deemed_withdrawn_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L017 P3 Permit Application Deemed Withdrawn.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_SEPA_permit_document_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NRW_permit_document_PMRV4567" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_EA_permit_document_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NIEA_permit_document_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_document_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_SEPA_permit_document_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NRW_permit_document_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_IN_EIE_APPROVED_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_IN_GHG_APPROVED_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3_-_IN_GHG_Approved.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_ETS_P3_L013_IN_PERMIT_APPLICATION_L013_PMRV4591" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L013 - INPermitApplication_L013.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_insert_permit_variation_regulator_led_approved_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN Variation Notice (CA Initiated) v4 added HSE target increase.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REGULATOR_LED_APPROVED',
                       'Permit variation CA initiated approval notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L045 IN Variation Notice (CA Initiated) v4 added HSE target increase.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit variation CA initiated approval notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L045 IN Variation Notice (CA Initiated) v4 added HSE target increase.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_regulator_led_approved_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) amendments required for permit migration onto PMRV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REGULATOR_LED_APPROVED',
                       'Permit variation CA initiated approval notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) amendments required for permit migration onto PMRV.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit variation CA initiated approval notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) amendments required for permit migration onto PMRV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_regulator_led_approved_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) updated 26052022.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REGULATOR_LED_APPROVED',
                       'Permit variation CA initiated approval notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) updated 26052022.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit variation CA initiated approval notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) updated 26052022.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_regulator_led_approved_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REGULATOR_LED_APPROVED',
                       'Permit variation CA initiated approval notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit variation CA initiated approval notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    <changeSet id="0_1_0_insert_permit_variation_regulator_led_approved_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 IN Variation Approved UKETS Final NRW (1) (1).docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_VARIATION_REGULATOR_LED_APPROVED',
                       'Permit variation CA initiated approval notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'L044 IN Variation Approved UKETS Final NRW (1) (1).docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit variation CA initiated approval notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit variation CA initiated approval notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L044 IN Variation Approved UKETS Final NRW (1) (1).docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_template_IN_EIE_APPROVED_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_IN_GHG_APPROVED_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN GHG Approved NIEA.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_EA_permit_document_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NIEA_permit_document_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_document_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_SEPA_permit_document_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NRW_permit_document_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_application_deemed_withdrawn_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_ISSUANCE_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L017 P3 Permit Application Deemed Withdrawn.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_application_refused_PMRV4604" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_ISSUANCE_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L015 P3 Permit Application Refused.docx"/>
        </customChange>
    </changeSet>

    <changeSet id="0_1_0_template_EA_permit_document_hyphen" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NIEA_permit_document_hyphen" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_OPRED_permit_document_hyphen" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_SEPA_permit_document_hyphen" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_NRW_permit_document_hyphen" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_template_IN_GHG_APPROVED_FIXING_MISSING_SIGNATURE_PMRV4792" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Creating the bookmark in docx from the start, pointing to the signature image because the previous bookmark was pointed to text portion
        and not to the image itself</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN GHG Approved NIEA.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_fix_permit_variation_regulator_led_for_opred_incorrect_text_position" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) updated 26052022.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_fix_permit_variation_regulator_led_for_scotland_cc_text_appears_twice" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ACCOUNT_APPLICATION_REJECTED_NOTIFICATION_TEMPLATE" author="P63757" context="migrate">

        <comment>Insert record in notification_template Table for Account Application Rejected email</comment>
        <sql>
            <![CDATA[
            UPDATE notification_template set subject = 'Installation account application update - Manage your UK ETS reporting',
                                             text = '
Your application to set up an installation account has been rejected.

This is because ${reason}.

You can [apply to set up an installation account again](${homeUrl}).

If you did not make this application you must [contact your regulator](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is).

This is an automatic email - please do not reply to this address.
' WHERE name='AccountApplicationRejected'
          ]]>;
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template set subject = 'PMRV account application update',
                text = 'Dear ${applicantFirstName} ${applicantLastName},

Sorry, your application to set up a PMRV account has not been successful.

This is because ${reason}.

You can apply to set up a PMRV account again on GOV.UK.

Contact ${competentAuthorityName} for help:
${competentAuthorityEmail}
${competentAuthorityPhone}

Regards,
PMRV' WHERE name = 'AccountApplicationRejected';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ACCOUNT_APPLICATION_ACCEPTED_NOTIFICATION_TEMPLATE" author="P63757" context="migrate">

        <comment>Insert record in notification_template Table for Account Application Accepted email</comment>
        <sql>
            <![CDATA[
            UPDATE notification_template set subject = 'Installation account application update - Manage your UK ETS reporting',
                                             text = '
Your application to set up an installation account has been approved.

Sign in to the [UK ETS reporting service](${homeUrl}) to:
- apply for a greenhouse gas emissions (GHGE) permit
- receive notifications from your regulator

If you did not make this application you must [contact your regulator](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is).

This is an automatic email - please do not reply to this address.
' WHERE name='AccountApplicationAccepted'
                ]]>;
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template set subject = 'PMRV account application update',
                text = 'Dear ${applicantFirstName} ${applicantLastName},

Your application to set up a PMRV account has been successful.

Sign in to your PMRV account to:
- apply for a GHG permit
- send and receive notifications from your regulator

Contact ${competentAuthorityName} for help:
${competentAuthorityEmail}
${competentAuthorityPhone}

Regards,
PMRV' WHERE name = 'AccountApplicationAccepted';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Measurement_N2O_Monitoring" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Measurement and N2O</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Measurement_N2O_Monitoring_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Measurement and N2O for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Measurement_N2O_Monitoring_OPRED" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Measurement and N2O for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Measurement_N2O_Monitoring_SCOTLAND" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Measurement and N2O for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Measurement_N2O_Monitoring_WALES" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Measurement and N2O for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_update_permit_document_for_england_to_rename_monitor_approach_types" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to rename monitor approach types for england</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_for_northern_ireland_to_rename_monitor_approach_types" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to rename monitor approach types for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_for_opred_to_rename_monitor_approach_types" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to rename monitor approach types for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_for_scotland_to_rename_monitor_approach_types" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to rename monitor approach types for scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_for_wales_to_rename_monitor_approach_types" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to rename monitor approach types for wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Inherent_CO2" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Inherent CO2</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Inherent_CO2_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Inherent C02 for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Inherent_CO2_OPRED" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Inherent C02 for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Inherent_CO2_SCOTLAND" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Inherent C02 for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Inherent_CO2_WALES" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Inherent C02 for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_address_measurement_and_n2o_issues" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to address measurement and n2o issues</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_address_measurement_and_n2o_issues_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to address measurement and n2o issues for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_address_measurement_and_n2o_issues_OPRED" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to address measurement and n2o issues for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_address_measurement_and_n2o_issues_SCOTLAND" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to address measurement and n2o issues for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_address_measurement_and_n2o_issues_WALES" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to address measurement and n2o issues for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved UKETS Final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_ACCEPTED',
                       'Permit transfer Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L037 IN Transfer Approved UKETS Final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit transfer Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L037 IN Transfer Approved UKETS Final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_template_for_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved (4).docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_ACCEPTED',
                       'Permit transfer Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L037 IN Transfer Approved (4).docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit transfer Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L037 IN Transfer Approved (4).docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_template_for_northern_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved updated 2015 07 30.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_ACCEPTED',
                       'Permit transfer Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L037 IN Transfer Approved updated 2015 07 30.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit transfer Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L037 IN Transfer Approved updated 2015 07 30.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037_IN_Transfer_Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_ACCEPTED',
                       'Permit transfer Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L037_IN_Transfer_Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit transfer Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L037_IN_Transfer_Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_template_for_sepa" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_ACCEPTED',
                       'Permit transfer Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L037 IN Transfer Approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit transfer Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L037 IN Transfer Approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_deemed_withdrawn_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L034 IN Transfer Deemed Withdrawn_UKETS Final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_DEEMED_WITHDRAWN',
                       'Permit transfer Deemed Withdrawn Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn_UKETS Final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn_UKETS Final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_deemed_withdrawn_template_for_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L034 IN Transfer Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_DEEMED_WITHDRAWN',
                       'Permit transfer Deemed Withdrawn Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_deemed_withdrawn_template_for_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L034 IN Transfer Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_DEEMED_WITHDRAWN',
                       'Permit transfer Deemed Withdrawn Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_deemed_withdrawn_template_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_DEEMED_WITHDRAWN',
                       'Permit transfer Deemed Withdrawn Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_deemed_withdrawn_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L034 IN Transfer Deemed Withdrawn.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_DEEMED_WITHDRAWN',
                       'Permit transfer Deemed Withdrawn Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit transfer Deemed Withdrawn Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L034 IN Transfer Deemed Withdrawn.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_refused_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L036 IN Transfer Refused with internal review UKETS Final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_REFUSED',
                       'Permit transfer Refused Notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L036 IN Transfer Refused with internal review UKETS Final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Permit transfer Refused Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L036 IN Transfer Refused with internal review UKETS Final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_refused_template_for_northern_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L036 IN Transfer Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_REFUSED',
                       'Permit transfer Refused Notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Permit transfer Refused Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_refused_template_for_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L036 IN Transfer Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_REFUSED',
                       'Permit transfer Refused Notice',
                       'OPRED',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Permit transfer Refused Notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_refused_template_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_REFUSED',
                       'Permit transfer Refused Notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Permit transfer Refused Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_permit_transfer_refused_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L036 IN Transfer Refused.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_TRANSFER_REFUSED',
                       'Permit transfer Refused Notice',
                       'WALES',
                       'INSTALLATION',
                       'Permit Transfer',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Permit transfer Refused Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Permit transfer Refused Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L036 IN Transfer Refused.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Transfer_CO2_England" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Transferred CO2 for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Transfer_CO2_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Transferred CO2 for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Transfer_CO2_Monitoring_OPRED" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Transferred CO2 for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Transfer_CO2_Monitoring_SCOTLAND" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Transferred CO2 for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_include_Transfer_CO2_Monitoring_WALES" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to include Transferred CO2 for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_fix_content_issues" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to fix content issues for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_fix_content_issues_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to fix content issues for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_fix_content_issues_OPRED" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to fix content issues for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_fix_content_issues_SCOTLAND" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to fix content issues for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_fix_content_issues_WALES" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to fix content issues for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
	</changeSet>
	
    <changeSet id="0_1_0_insert_reset_password_request_message_notification_template" author="apostolouk@unisystems.gr" context="migrate">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'ResetPasswordRequest',
			'Password reset email - PMRV',
			'Dear ${applicantFirstName},

You have received this email because you have requested to reset your password on the PMRV.

Use this link to reset your password for the PMRV

[Reset your password](${resetPasswordLink})

This link will expire in ${expirationMinutes} minutes

If you did not request this change you must contact the PMRV at ${officialPmrvContact}

This is an automatic email - please do not reply to this address



Kind regards,

PMRV'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'ResetPasswordRequest';
            </sql>
        </rollback>

    </changeSet>
    
    <changeSet id="0_1_0_insert_reset_password_confirmation_message_notification_template" author="apostolouk@unisystems.gr" context="migrate">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'ResetPasswordConfirmation',
			'Password reset - PMRV',
			'Dear ${applicantFirstName},

You have successfully reset your password on the PMRV service.

You can now login to your account.



Kind regards,

PMRV'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'ResetPasswordConfirmation';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_reset_password_request_message_notification_template" author="apostolouk@unisystems.gr" context="migrate">
        <sql>
            UPDATE notification_template
            SET subject = 'Password reset request - Manage your UK ETS reporting',
                text = 'We received a request to reset your password for the UK ETS reporting service.

Use this link to reset your password:

[Reset your password](${resetPasswordLink})

This link will expire in ${expirationMinutes} minutes.

If you did not request this reset you must [contact your regulator](${contactRegulator})

This is an automatic email - please do not reply to this address.'
            WHERE name = 'ResetPasswordRequest';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'Password reset email - PMRV',
                    text = 'Dear ${applicantFirstName},

You have received this email because you have requested to reset your password on the PMRV.

Use this link to reset your password for the PMRV

[Reset your password](${resetPasswordLink})

This link will expire in ${expirationMinutes} minutes

If you did not request this change you must contact the PMRV at ${officialPmrvContact}

This is an automatic email - please do not reply to this address



Kind regards,

PMRV'
                WHERE name = 'ResetPasswordRequest';
            </sql>
        </rollback>
    </changeSet>

	<changeSet id="0_1_0_insert_dre_submitted_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 IN Determination of Reportable Emissions.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L019 IN Determination of Reportable Emissions.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L019 IN Determination of Reportable Emissions.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_dre_submitted_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L019 Determination Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L019 Determination Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_dre_submitted_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'WALES',
                       'INSTALLATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L019 Determination Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L019 Determination Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_dre_submitted_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice 23.04.21.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'OPRED',
                       'INSTALLATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L019 Determination Notice 23.04.21.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L019 Determination Notice 23.04.21.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_dre_submitted_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice 171114v2.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'L019 Determination Notice 171114v2.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L019 Determination Notice 171114v2.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_reset_password_conformation_message_notification_template" author="apostolouk@unisystems.gr" context="migrate">
        <sql>
            UPDATE notification_template
            SET subject = 'Password reset - Manage your UK ETS reporting',
                text = 'You have successfully reset your password for the UK ETS reporting service. You can now [sign in to your account](${homeUrl}).

If you did not request this reset you must [contact your regulator](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE name = 'ResetPasswordConfirmation';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'Password reset - PMRV',
                    text = 'Dear ${applicantFirstName},

You have successfully reset your password on the PMRV service.

You can now login to your account.



Kind regards,

PMRV'
                WHERE name = 'ResetPasswordConfirmation';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_reset_2FA_confirmation_message_notification_template" author="apostolouk@unisystems.gr" context="migrate">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
            id,
            name,
            subject,
            text)
			VALUES (
			nextval('notification_template_seq'),
			'Reset2FaConfirmation',
			'Two-factor authentication reset - Manage your UK ETS reporting',
			'We received a request to reset your two-factor authentication for the UK ETS reporting service.

Sign in to the [UK ETS reporting service](${homeUrl}) to set up a new authenticator and access your account.

If you did not make this request you must [contact your regulator](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Reset2FaConfirmation';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved UKETS Final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved updated 2015 07 30.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_opred" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved (4).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037_IN_Transfer_Approved.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_approved_opred_2" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_TRANSFER_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L037 IN Transfer Approved (4).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_transfer_demmed_withdrawn" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_TRANSFER_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L034 IN Transfer Deemed Withdrawn.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>


    <changeSet id="0_1_0_insert_vir_reviewed_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L003 Verifier Improvements UKETS FINAL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report',
                       'ENGLAND',
                       'INSTALLATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L003 Verifier Improvements UKETS FINAL.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Verifier improvements report' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L003 Verifier Improvements UKETS FINAL.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_vir_reviewed_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L003 Verifier Improvements 2012 Regs EU.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L003 Verifier Improvements 2012 Regs EU.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Verifier improvements report' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L003 Verifier Improvements 2012 Regs EU.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_vir_reviewed_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L003 Verifier Improvements 20141104.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report',
                       'WALES',
                       'INSTALLATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L003 Verifier Improvements 20141104.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Verifier improvements report' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L003 Verifier Improvements 20141104.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_vir_reviewed_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L003 Verifier Improvements 280921.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report',
                       'OPRED',
                       'INSTALLATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L003 Verifier Improvements 280921.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Verifier improvements report' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L003 Verifier Improvements 280921.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_vir_reviewed_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L003 - Verifier Improvements - UK ETS 1.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'ETS-P3-L003 - Verifier Improvements - UK ETS 1.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Verifier improvements report' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'ETS-P3-L003 - Verifier Improvements - UK ETS 1.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_verifier_improvement_report_operator_response_notification_template" author="P70383">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text)
            VALUES (
                       nextval('notification_template_seq'),
                       'Verifier Improvement Report Operator Response',
                       'New notification received - Manage your UK ETS reporting',
                       'The ${installationAccountName} ${emitterId} has submitted a response to one of your follow-up items. Sign in to your account to view the response.

This is an automatic email - please do not reply to this address.'
                   )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Verifier Improvement Report Operator Response';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_ACCOUNT_APPLICATION_RECEIVED_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = 'We received your application to set up an installation account.

We’ll review your application and respond within 10 working days.

If you did not make this application you must [contact your regulator.](${contactRegulator})

This is an automatic email - please do not reply to this address.'
            WHERE name = 'AccountApplicationReceived';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'We received your application to set up an installation account.

                We’ll review your application and respond within 10 working days.

                If you did not make this application you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'AccountApplicationReceived';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_EMAIL_CONFIRMATION_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = 'We received a request to create a sign in for the UK ETS reporting service.

Use this link to confirm your email:

[Confirm your email address](${emailConfirmationLink})

If you did not request this reporting service sign in you must [contact your regulator.](${contactRegulator})

This is an automatic email - please do not reply to this address.'
            WHERE name = 'EmailConfirmation';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'We received a request to create a sign in for the UK ETS reporting service.

                Use this link to confirm your email:

                [Confirm your email address](${emailConfirmationLink})

                If you did not request this reporting service sign in you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'EmailConfirmation';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_USER_ACCOUNT_CREATED_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = 'A UK ETS reporting service sign in has been created for ${userEmail}

You will be asked to provide this email address if you forget or want to change your password.

If you did not request this reporting service sign in you must [contact your regulator.](${contactRegulator})

This is an automatic email - please do not reply to this address.'
            WHERE name = 'UserAccountCreated';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'A UK ETS reporting service sign in has been created for ${userEmail}

                You will be asked to provide this email address if you forget or want to change your password.

                If you did not request this reporting service sign in you must [contact your regulator.](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is)

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'UserAccountCreated';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_EMAIL_ACCOUNT_APPLICATION_REJECTED_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = 'Your application to set up an installation account has been rejected.

This is because ${reason}.

You can [apply to set up an installation account again](${homeUrl}).

If you did not make this application you must [contact your regulator](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE name = 'AccountApplicationRejected';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'Your application to set up an installation account has been rejected.

                This is because ${reason}.

                You can [apply to set up an installation account again](${homeUrl}).

                If you did not make this application you must [contact your regulator](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is).

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'AccountApplicationRejected';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_EMAIL_ACCOUNT_APPLICATION_ACCEPTED_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = 'Your application to set up an installation account has been approved.

Sign in to the [UK ETS reporting service](${homeUrl}) to:
- apply for a greenhouse gas emissions (GHGE) permit
- receive notifications from your regulator

If you did not make this application you must [contact your regulator](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE name = 'AccountApplicationAccepted';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'Your application to set up an installation account has been approved.

                Sign in to the [UK ETS reporting service](${homeUrl}) to:
                - apply for a greenhouse gas emissions (GHGE) permit
                - receive notifications from your regulator

                If you did not make this application you must [contact your regulator](https://www.gov.uk/guidance/uk-ets-apply-for-an-emissions-monitoring-plan-emp#find-out-who-your-regulator-is).

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'AccountApplicationAccepted';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_0_1_0_INSERT_CHANGE_2FA_MESSAGE_NOTIFICATION_TEMPLATE_ABOUT_US_LINK" author="P70383">
        <sql>
            UPDATE notification_template
            SET subject = 'Two factor authentication device update request - Manage your UK ETS reporting',
                text = 'Use this link to sign in to the UK ETS reporting service and update your authenticator app:

[Sign in and set up new two factor authentication](${change2FALink})

This link will expire in ${expirationMinutes} minutes.

If you did not make this application you must [contact your regulator](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE name = 'Change2FA';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET subject = 'Two factor authentication device update request - PMRV'
                WHERE name = 'Change2FA';
            </sql>
        </rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_insert_permit_reissue_template_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="IN Batch Variation Notice for FAR variation HSE IW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_REISSUE',
                       'Batch variation notice',
                       'ENGLAND',
                       'INSTALLATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'IN Batch Variation Notice for FAR variation HSE IW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND'),
                       (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Batch variation notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'IN Batch Variation Notice for FAR variation HSE IW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_reissue_template_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="IN Batch Variation Notice for conversion NIEA 2020 12 16 JW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_REISSUE',
                       'Batch variation notice',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'IN Batch Variation Notice for conversion NIEA 2020 12 16 JW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND'),
                       (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Batch variation notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'IN Batch Variation Notice for conversion NIEA 2020 12 16 JW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_reissue_template_for_opred" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="IN Batch Variation Notice for conversion FINAL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_REISSUE',
                       'Batch variation notice',
                       'OPRED',
                       'INSTALLATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'IN Batch Variation Notice for conversion FINAL.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED'),
                       (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Batch variation notice' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'IN Batch Variation Notice for conversion FINAL.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_reissue_template_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="IN Batch Variation Notice - Dec 20_FINAL JW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_REISSUE',
                       'Batch variation notice',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'IN Batch Variation Notice - Dec 20_FINAL JW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND'),
                       (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Batch variation notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'IN Batch Variation Notice - Dec 20_FINAL JW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_permit_reissue_template_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="IN Batch Variation Notice for FAR variation NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'PERMIT_REISSUE',
                       'Batch variation notice',
                       'WALES',
                       'INSTALLATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'IN Batch Variation Notice for FAR variation NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES'),
                       (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Batch variation notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Batch variation notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'IN Batch Variation Notice for FAR variation NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_DRE_template_findings_England" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix DRE template findings for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="DRE_SUBMITTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 IN Determination of Reportable Emissions.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_DRE_template_findings_Northern_Ireland" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix DRE template findings for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="DRE_SUBMITTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_DRE_template_findings_OPRED" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix DRE template findings for Opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="DRE_SUBMITTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice 23.04.21.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_DRE_template_findings_SCOTLAND" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix DRE template findings for Scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="DRE_SUBMITTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice 171114v2.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_DRE_template_findings_WALES" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Fix DRE template findings for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="DRE_SUBMITTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L019 Determination Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_INSERT_EMAIL_ASSIGNED_TASK_NOTIFICATION_TEMPLATE" author="P63979">

        <comment>Insert record in notification_template Table for Email Assigned Task Notification</comment>
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'EmailAssignedTask',
                       'New task received - Manage your UK ETS reporting',
                       'You have been assigned a new task. [Sign in to your account](${homeUrl}) to view this task.

This is an automatic email - please do not reply to this address.
')]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'EmailAssignedTask';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_EDIT_NEW_VERIFICATION_BODY_INSTALLATION_MESSAGE_NOTIFICATION_TEMPLATE FOR INSTALLATIONS AND AVIATION" author="dimopoulosc@unisystems.gr">

        <sql>
            UPDATE notification_template SET NAME= 'NewVerificationBodyEmitter'
            WHERE NAME = 'NewVerificationBodyInstallation';
        </sql>
        <sql>
            UPDATE notification_template SET TEXT=
            'You have been appointed as the verifier for ${emitterName}(${emitterId}).

You can manage the individual who is assigned as the site contact by navigating to [Manage verifier users]({"action": "VERIFICATION_BODY_USERS_SETUP"}).

You can assign and re-assign site contacts at any time.'
            WHERE NAME = 'NewVerificationBodyEmitter';
        </sql>
        <sql>
            UPDATE notification_template SET SUBJECT= 'New Emitter'
            WHERE NAME = 'NewVerificationBodyEmitter';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                '${operatorName} has appointed your organisation as the verifier for ${accountName}.

                You can manage the individual who is assigned as the site contact by navigating to [Manage verifier users]({"action": "VERIFICATION_BODY_USERS_SETUP"}).

                You can assign and re-assign site contacts at any time.'
                WHERE NAME = 'NewVerificationBodyEmitter';

                UPDATE notification_template SET SUBJECT= 'New Installation'
                WHERE NAME = 'NewVerificationBodyEmitter';

                UPDATE notification_template SET NAME= 'NewVerificationBodyInstallation'
                WHERE NAME = 'NewVerificationBodyEmitter';
            </sql>
        </rollback>

    </changeSet>

    <changeSet id="0_1_0_update_for_ca_england_new_templates" author="P63757">
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L020_Revocation template IW 20201127 USE or Article 27a CLEAN.docx" />
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_20130402.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 IN Request for Determination Extension UKETS Final.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN Variation Notice (CA Initiated) v4 added HSE target increase.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplicationGHGE_Approved_UKETS Final.docx"/>
        </customChange>

        <rollback></rollback>
    </changeSet>


    <changeSet id="0_1_0_update_for_ca_northern_ireland_new_templates" author="P63757">
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice_Mar14.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) amendments required for permit migration onto PMRV.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved NI Mar 13.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN GHG Approved NIEA.docx"/>
        </customChange>

    </changeSet>

    <changeSet id="0_1_0_update_for_ca_opred_new_templates" author="P63757">
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDER_CESSATION"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L022 Cessation Following Surrender OPRED.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 Request for further information notice 260721.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_SURRENDERED_NOTICE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L028 Surrendered 08122021.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_VARIATION_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L040 Variation Refused opred.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) updated 26052022.docx" />
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 GHG Approved letter 01102021.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT_VARIATION_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L044 Variation Approved.docx"/>
        </customChange>
    </changeSet>

    <changeSet id="0_1_0_update_for_ca_scotland_new_templates" author="P63757">
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_REVOCATION" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-03-L020 - Revocation P3 - USE.docx" />
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L013 - INPermitApplication_L013.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="ETS-P3-L026 - P3 Request for time extension notice - UK ETS.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx" />
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice - for applications.docx"/>
        </customChange>
    </changeSet>

    <changeSet id="0_1_0_update_for_ca_wales_new_templates" author="P63757">
        <validCheckSum>1:any</validCheckSum>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L025_P3_Request_for_further_information_notice.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx"/>
        </customChange>

        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3_-_IN_GHG_Approved.docx"/>
        </customChange>

    </changeSet>

    <changeSet id="0_1_0_update_permit_document_to_remove_totalPageCount" author="stassinopoulosp">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update permit template to remove totalPageCount for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_variation_regulator_led_grant_document_to_print_correct_fee_details_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) - UK ETS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_variation_regulator_led_grant_document_to_print_correct_fee_details_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN Variation Notice (CA Initiated) v4 added HSE target increase.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_permit_variation_regulator_led_grant_document_to_print_correct_fee_details_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT_VARIATION_REGULATOR_LED_APPROVED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L045 IN P3 Variation Notice (CA Initiated) amendments required for permit migration onto PMRV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_SUBJECT_FOR_GENERIC_INSTALLATION_LETTER_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET SUBJECT= 'An important letter from the Manage your UK ETS reporting service'
            WHERE NAME = 'Generic email Template for Installation letter';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'An important letter from the Emissions Trading Portal'
                WHERE NAME = 'Generic email Template for Installation letter';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_replace_beis_text_for_england_for_permit_application_approved" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT_ISSUANCE_GHGE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplicationGHGE_Approved_UKETS Final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_remove_question_mark_from_northern_ireland_rde" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_fix_managed_text_to_manage_for_england_for_permit_application_approved" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT_ISSUANCE_HSE_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 - IN EIE Approved.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rfi_template_for_aviation_england" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="P3 Request for further information notice_L25 AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RFI',
                       'IN Request for Further Information',
                       'ENGLAND',
                       'AVIATION',
                       'RFI sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'P3 Request for further information notice_L25 AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'ENGLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'P3 Request for further information notice_L25 AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rde_template_for_aviation_england" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS Request_for_time_extension_notice_20210401 AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RDE',
                       'IN Request for Determination Extension',
                       'ENGLAND',
                       'AVIATION',
                       'RDE sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS Request_for_time_extension_notice_20210401 AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'ENGLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS Request_for_time_extension_notice_20210401 AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rfi_template_for_aviation_wales" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RFI',
                       'IN Request for Further Information',
                       'WALES',
                       'AVIATION',
                       'RFI sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L025 P3 Request for further information notice AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'WALES' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L025 P3 Request for further information notice AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rde_template_for_aviation_wales" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RDE',
                       'IN Request for Determination Extension',
                       'WALES',
                       'AVIATION',
                       'RDE sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L026 P3 Request for time extension notice AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'WALES' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L026 P3 Request for time extension notice AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rfi_template_for_aviation_scotland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="This template has not yet been approved.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RFI',
                       'IN Request for Further Information',
                       'SCOTLAND',
                       'AVIATION',
                       'RFI sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'This template has not yet been approved.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rde_template_for_aviation_scotland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 AV Request for time extension notice AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RDE',
                       'IN Request for Determination Extension',
                       'SCOTLAND',
                       'AVIATION',
                       'RDE sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L026 P3 AV Request for time extension notice AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L026 P3 AV Request for time extension notice AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rfi_template_for_aviation_northern_ireland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RFI',
                       'IN Request for Further Information',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'RFI sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L025 P3 Request for further information notice AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Further Information' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L025 P3 Request for further information notice AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_rde_template_for_aviation_northern_ireland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'IN_RDE',
                       'IN Request for Determination Extension',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'RDE sub-process',
                       '2022-03-27 00:00:00',
                       (select id from file_document_template where file_name = 'L026 P3 Request for time extension notice AV.docx' order by id desc limit 1));
        </sql>
        <rollback>
            delete from notification_document_template
            where name = 'IN Request for Determination Extension' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L026 P3 Request for time extension notice AV.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_aviation_england" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Generic Expiration Reminder Template',
                       '${workflow} ${workflowTask} (${expirationTime} remaining)',
                       'ENGLAND',
                       '[TBC]',
                       'AVIATION',
                       '[TBC]',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic Expiration Reminder Template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_aviation_wales" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Generic Expiration Reminder Template',
                       '${workflow} ${workflowTask} (${expirationTime} remaining)',
                       'WALES',
                       '[TBC]',
                       'AVIATION',
                       '[TBC]',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic Expiration Reminder Template' and competent_authority = 'WALES' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_aviation_scotland" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Generic Expiration Reminder Template',
                       '${workflow} ${workflowTask} (${expirationTime} remaining)',
                       'SCOTLAND',
                       '[TBC]',
                       'AVIATION',
                       '[TBC]',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic Expiration Reminder Template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_aviation_northern_ireland" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Generic Expiration Reminder Template',
                       '${workflow} ${workflowTask} (${expirationTime} remaining)',
                       'NORTHERN_IRELAND',
                       '[TBC]',
                       'AVIATION',
                       '[TBC]',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic Expiration Reminder Template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_expiration_reminder_notification_template_for_aviation_opred" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
                       nextval('notification_template_seq'),
                       'Generic Expiration Reminder Template',
                       '${workflow} ${workflowTask} (${expirationTime} remaining)',
                       'OPRED',
                       '[TBC]',
                       'AVIATION',
                       '[TBC]',
                       'OPERATOR',
                       true,
                       '2022-03-27 00:00:00',
                       'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic Expiration Reminder Template' and competent_authority = 'OPRED' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_expiration_reminder_notification_template_for_installation_england" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET text=
                'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}'
            WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET text=
                'Dear ${workflowUser}

                Operator name: ${legalEntityName}

                Installation name: ${installationAccountName}

                Permit reference: ${(permitId)!}

                The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

                Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

                Kind regards,

                ${competentAuthorityEmail}}'
                WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_expiration_reminder_notification_template_for_installation_northern_ireland" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET text=
                 'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}'
            WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET text=
                'Dear ${workflowUser}

                Operator name: ${legalEntityName}

                Installation name: ${installationAccountName}

                Permit reference: ${(permitId)!}

                The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

                Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

                Kind regards,

                ${competentAuthorityEmail}}'
                WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_expiration_reminder_notification_template_for_installation_wales" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET text=
                 'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}'
            WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'WALES' and account_type = 'INSTALLATION';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET text=
                'Dear ${workflowUser}

                Operator name: ${legalEntityName}

                Installation name: ${installationAccountName}

                Permit reference: ${(permitId)!}

                The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

                Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

                Kind regards,

                ${competentAuthorityEmail}}'
                WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'WALES' and account_type = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_expiration_reminder_notification_template_for_installation_scotland" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET text=
                 'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}'
            WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET text=
                'Dear ${workflowUser}

                Operator name: ${legalEntityName}

                Installation name: ${installationAccountName}

                Permit reference: ${(permitId)!}

                The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

                Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

                Kind regards,

                ${competentAuthorityEmail}}'
                WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_expiration_reminder_notification_template_for_installation_opred" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET text=
                 'Dear ${workflowUser}

Emitter: ${accountName} (${emitterId})

The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above emitter is due ${expirationTimeLong}. The task must be completed by ${deadline?date?string(''dd MMMM yyyy'')}.

Please contact your team leader urgently if you are not able to complete the task before this date.

Kind regards,

${competentAuthorityEmail}'
            WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET text=
                'Dear ${workflowUser}

                Operator name: ${legalEntityName}

                Installation name: ${installationAccountName}

                Permit reference: ${(permitId)!}

                The deadline for the ${workflowTask} of the ${workflow} application (reference ${workflowId}) for the above installation is due ${expirationTimeLong}. The task must be completed ${deadline?date?string(''dd MMMM yyyy'')}.

                Please contact your team leader urgently if you''re experiencing any difficulty in completing the assessment.

                Kind regards,

                ${competentAuthorityEmail}}'
                WHERE name = 'Generic Expiration Reminder Template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_invitation_to_operator_account_notification_template" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET TEXT=
             'You have been invited to the PMRV system to become ${userRoleType} for ${accountName}.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

If you are an existing user you will be required to log into the PMRV system with your credentials.

If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

[Confirm your account now](${operatorInvitationConfirmationLink})'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

                To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

                If you are an existing user you will be required to log into the PMRV system with your credentials.

                If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

                [Confirm your account now](${operatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_invitation_to_emitter_contact_notification_template" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET TEXT=
             'Dear ${applicantFirstName} ${applicantLastName}

This is to notify you that you have been created as an Emitter contact at ${accountName}.

All system alerts, notices and official communications will be sent to your registered email address.

Notices and official communications will be sent by post to your registered address.

Kind regards,
PMRV Helpdesk'
            WHERE NAME = 'InvitationToEmitterContact';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'Dear ${applicantFirstName} ${applicantLastName}

                This is to notify you that you have been created as an Emitter contact at ${installationAccountName}.

                All system alerts, notices and official communications will be sent to your registered email address.

                Notices and official communications will be sent by post to your registered address.

                Kind regards,
                PMRV Helpdesk'
                WHERE NAME = 'InvitationToEmitterContact';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_verifier_improvement_report_operator_response_notification_template" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template SET TEXT=
             'The ${accountName} ${emitterId} has submitted a response to one of your follow-up items. Sign in to your account to view the response.

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'Verifier Improvement Report Operator Response';
        </sql>

        <rollback>
            <sql>
                UPDATE notification_template SET TEXT=
                'The ${installationAccountName} ${emitterId} has submitted a response to one of your follow-up items. Sign in to your account to view the response.

                This is an automatic email - please do not reply to this address.'
                WHERE NAME = 'Verifier Improvement Report Operator Response';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_verifier_improvement_report_operator_misses_deadline_template" author="P70383">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text)
            VALUES (
                       nextval('notification_template_seq'),
                       'Verifier Improvement Report Operator misses a deadline',
                       'New notification received - Manage your UK ETS reporting',
                       '${accountName} ${emitterId} has missed the deadline to submit a response to one of your follow-up items. [Sign in to your account](${homeUrl}) to view the details.

This is an automatic email - please do not reply to this address.'
                   )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Verifier Improvement Report Operator misses a deadline';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_verifier_improvement_report_operator_response_notification_template_content" author="P70383">
        <sql>
            UPDATE notification_template
            SET text = '${accountName} ${emitterId} has submitted a response to one of your follow-up items. [Sign in to your account](${homeUrl}) to view the response.

This is an automatic email - please do not reply to this address.'
            WHERE name = 'Verifier Improvement Report Operator Response';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'The ${accountName} ${emitterId} has submitted a response to one of your follow-up items. Sign in to your account to view the response.

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'Verifier Improvement Report Operator Response';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToEmitterContact_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'You have been added as an emitter contact - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToEmitterContact';

            UPDATE notification_template SET text=
            'You have been added as an emitter contact at ${installationAccountName}.

System alerts, notices and official communications will be sent to your registered email address.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToEmitterContact';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'PMRV invitation to emitter contact'
                WHERE NAME = 'InvitationToEmitterContact';

                UPDATE notification_template SET TEXT=
                'Dear ${applicantFirstName} ${applicantLastName}

This is to notify you that you have been created as an Emitter contact at ${installationAccountName}.

All system alerts, notices and official communications will be sent to your registered email address.

Notices and official communications will be sent by post to your registered address.'
                WHERE NAME = 'InvitationToEmitterContact';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToRegulatorAccount_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Activate your account - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToRegulatorAccount';

            UPDATE notification_template SET text=
            'An account has been created for you in the Manage your UK ETS reporting service.

[Activate your account](${regulatorInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

You will be asked to create a password and set up two factor authentication.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToRegulatorAccount';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'Activate your PMRV account'
                WHERE NAME = 'InvitationToRegulatorAccount';

                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName}

An account has been created for you.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

You will be asked to create a password.

[Activate your account now](${regulatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToRegulatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToVerifierAccount_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Activate your account - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToVerifierAccount';

            UPDATE notification_template SET text=
            'An account has been created for you in the Manage your UK ETS reporting service.

[Activate your account](${verifierInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

You will be asked to create a password and set up two factor authentication.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToVerifierAccount';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'Activate your PMRV account'
                WHERE NAME = 'InvitationToVerifierAccount';

                UPDATE notification_template SET TEXT=
                '${applicantFirstName} ${applicantLastName}

An account has been created for you.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

You will be asked to create a password.

[Activate your account now](${verifierInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToVerifierAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToOperatorAccount_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Confirm your account - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToOperatorAccount';

            UPDATE notification_template SET text=
            'You have been added as [[a/an]] ${userRoleType} for ${installationAccountName} in the Manage your UK ETS reporting service.

[Confirm your account](${operatorInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

If you are a new user, you will be asked to create a sign in before you can confirm your account.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'PMRV new user'
                WHERE NAME = 'InvitationToOperatorAccount';

                UPDATE notification_template SET TEXT=
                'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

If you are an existing user you will be required to log into the PMRV system with your credentials.

If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

[Confirm your account now](${operatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_UserAccountActivation_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Your account has been activated - Manage your UK ETS reporting'
            WHERE NAME = 'UserAccountActivation';

            UPDATE notification_template SET text=
            'Your ${userRoleType} account has been activated in the Manage your UK ETS reporting service.

You can now [sign in to your account](${homeUrl}).

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'UserAccountActivation';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'User account activation'
                WHERE NAME = 'UserAccountActivation';

                UPDATE notification_template SET TEXT=
                'Dear ${userRoleType},

This is to notify you that your PMRV user account is now active.

You can log in using the details provided at your account creation.'
                WHERE NAME = 'UserAccountActivation';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InviteeInvitationAccepted_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Your account has been accepted - Manage your UK ETS reporting'
            WHERE NAME = 'InviteeInvitationAccepted';

            UPDATE notification_template SET text=
            'You have successfully accepted your account on the Manage your UK ETS reporting service.

You can now [sign in to your account](${homeUrl}).

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InviteeInvitationAccepted';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'User account activation'
                WHERE NAME = 'InviteeInvitationAccepted';

                UPDATE notification_template SET TEXT=
                'Dear ${userRoleType},

This is to notify you that your PMRV user account is now accepted.'
                WHERE NAME = 'InviteeInvitationAccepted';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_UserFeedbackForService_NOTIFICATION_TEMPLATE" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'New feedback received for the UK ETS reporting service'
            WHERE NAME = 'UserFeedbackForService';

        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'New feedback received on PMRV'
                WHERE NAME = 'UserFeedbackForService';

            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToEmitterContact_NOTIFICATION_TEMPLATE_accountName" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'You have been added as an emitter contact - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToEmitterContact';

            UPDATE notification_template SET text=
            'You have been added as an emitter contact at ${accountName}.

System alerts, notices and official communications will be sent to your registered email address.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToEmitterContact';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'PMRV invitation to emitter contact'
                WHERE NAME = 'InvitationToEmitterContact';

                UPDATE notification_template SET TEXT=
                'Dear ${applicantFirstName} ${applicantLastName}

                This is to notify you that you have been created as an Emitter contact at ${installationAccountName}.

                All system alerts, notices and official communications will be sent to your registered email address.

                Notices and official communications will be sent by post to your registered address.'
                WHERE NAME = 'InvitationToEmitterContact';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToOperatorAccount_NOTIFICATION_TEMPLATE_accountName" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Confirm your account - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToOperatorAccount';

            UPDATE notification_template SET text=
            'You have been added as [[a/an]] ${userRoleType} for ${accountName} in the Manage your UK ETS reporting service.

[Confirm your account](${operatorInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

If you are a new user, you will be asked to create a sign in before you can confirm your account.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'PMRV new user'
                WHERE NAME = 'InvitationToOperatorAccount';

                UPDATE notification_template SET TEXT=
                'You have been invited to the PMRV system to become ${userRoleType} for ${installationAccountName}.

                To claim and activate your account you must click the link below within ${expirationMinutes/60} hours.

                If you are an existing user you will be required to log into the PMRV system with your credentials.

                If you are a new user, you will be sent an email requesting you to validate your email and to complete the user account creation process before your account is activated.

                [Confirm your account now](${operatorInvitationConfirmationLink})'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_NAME_FOR_GENERIC_INSTALLATION_LETTER_NOTIFICATION_TEMPLATE" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET NAME= 'Generic email template'
            WHERE NAME = 'Generic email Template for Installation letter' AND ACCOUNT_TYPE = 'INSTALLATION';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET NAME= 'Generic email Template for Installation letter'
                WHERE NAME = 'Generic email template' AND ACCOUNT_TYPE = 'INSTALLATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_email_notification_template_for_aviation_england" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
               nextval('notification_template_seq'),
               'Generic email template',
               'An important letter from the Manage your UK ETS reporting service',
               'ENGLAND',
               '[TBC]',
               'AVIATION',
               '[TBC]',
               'OPERATOR',
               true,
               '2022-03-27 00:00:00',
               'Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_email_notification_template_for_aviation_scotland" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
               nextval('notification_template_seq'),
               'Generic email template',
               'An important letter from the Manage your UK ETS reporting service',
               'SCOTLAND',
               '[TBC]',
               'AVIATION',
               '[TBC]',
               'OPERATOR',
               true,
               '2022-03-27 00:00:00',
               'Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_email_notification_template_for_aviation_wales" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
               nextval('notification_template_seq'),
               'Generic email template',
               'An important letter from the Manage your UK ETS reporting service',
               'WALES',
               '[TBC]',
               'AVIATION',
               '[TBC]',
               'OPERATOR',
               true,
               '2022-03-27 00:00:00',
               'Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_email_notification_template_for_aviation_northern_ireland" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
               nextval('notification_template_seq'),
               'Generic email template',
               'An important letter from the Manage your UK ETS reporting service',
               'NORTHERN_IRELAND',
               '[TBC]',
               'AVIATION',
               '[TBC]',
               'OPERATOR',
               true,
               '2022-03-27 00:00:00',
               'Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_generic_email_notification_template_for_aviation_opred" author="pafilisa@unisystems.gr">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                competent_authority,
                event_trigger,
                account_type,
                workflow,
                role_type,
                is_managed,
                last_updated_date,
                text
            )
            VALUES (
               nextval('notification_template_seq'),
               'Generic email template',
               'An important letter from the Manage your UK ETS reporting service',
               'OPRED',
               '[TBC]',
               'AVIATION',
               '[TBC]',
               'OPERATOR',
               true,
               '2022-03-27 00:00:00',
               'Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme')
            ]]>;
        </sql>

        <rollback>
            <sql>
                delete from notification_template
                where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_UPDATE_InvitationToOperatorAccount_NOTIFICATION_TEMPLATE_fix" author="p70453">
        <sql>
            UPDATE notification_template
            SET subject= 'Confirm your account - Manage your UK ETS reporting'
            WHERE NAME = 'InvitationToOperatorAccount';

            UPDATE notification_template SET text=
            'You have been added as a/an ${userRoleType} for ${accountName} in the Manage your UK ETS reporting service.

[Confirm your account](${operatorInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

If you are a new user, you will be asked to create a sign in before you can confirm your account.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
            WHERE NAME = 'InvitationToOperatorAccount';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET SUBJECT= 'PMRV new user'
                WHERE NAME = 'InvitationToOperatorAccount';

                UPDATE notification_template SET TEXT=
                'You have been added as [[a/an]] ${userRoleType} for ${accountName} in the Manage your UK ETS reporting service.

[Confirm your account](${operatorInvitationConfirmationLink})

This link will expire in ${expirationMinutes/60} hours.

If you are a new user, you will be asked to create a sign in before you can confirm your account.

If you think this request should not have been made, you must [contact your regulator.](${contactRegulator}).

This is an automatic email - please do not reply to this address.'
                WHERE NAME = 'InvitationToOperatorAccount';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_annual_improvement_report_operator_response_notification_template" author="P70605">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text)
            VALUES (
                       nextval('notification_template_seq'),
                       'Annual Improvement Report Operator Response',
                       'New notification received - Manage your UK ETS reporting',
                       'The ${accountName} ${emitterId} has submitted a response to one of your follow-up items. Sign in to your account to view the response.

This is an automatic email - please do not reply to this address.'
                   )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Annual Improvement Report Operator Response';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_annual_improvement_report_operator_misses_deadline_template" author="P70605">
        <sql>
            <![CDATA[
            INSERT INTO notification_template (
                id,
                name,
                subject,
                text)
            VALUES (
                       nextval('notification_template_seq'),
                       'Annual Improvement Report Operator misses a deadline',
                       'New notification received - Manage your UK ETS reporting',
                       '${accountName} ${emitterId} has missed the deadline to submit a response to one of your follow-up items. [Sign in to your account](${homeUrl}) to view the details.

This is an automatic email - please do not reply to this address.'
                   )]]>;
        </sql>

        <rollback>
            <sql>
                DELETE FROM notification_template WHERE name = 'Annual Improvement Report Operator misses a deadline';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_TBC" author="P70453">
        <sql>
            update notification_template set event_trigger = 'Multiple events' where event_trigger='[TBC]';
            update notification_template set workflow = 'Multiple workflows' where workflow='[TBC]';
        </sql>

        <rollback>
            <sql>
                update notification_template set event_trigger = '[TBC]' where event_trigger='Multiple events';
                update notification_template set workflow = '[TBC]' where workflow='Multiple workflows';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_submitted_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="DOAL Preliminary Allocation Letter Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_SUBMITTED',
                       'Activity level determination preliminary allocation letter',
                       'WALES',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_submitted_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="DOAL Preliminary Allocation Letter Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_SUBMITTED',
                       'Activity level determination preliminary allocation letter',
                       'ENGLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_submitted_template_for_northern_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="DOAL Preliminary Allocation Letter Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_SUBMITTED',
                       'Activity level determination preliminary allocation letter',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_submitted_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="DOAL Preliminary Allocation Letter Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_SUBMITTED',
                       'Activity level determination preliminary allocation letter',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_submitted_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="DOAL Preliminary Allocation Letter Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_SUBMITTED',
                       'Activity level determination preliminary allocation letter',
                       'OPRED',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'OPRED')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Activity level determination preliminary allocation letter' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'DOAL Preliminary Allocation Letter Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_air_reviewed_template_for_england" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L002_Annual_Improvements amended UKETS FINAL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AIR_REVIEWED',
                       'Review annual improvement report',
                       'ENGLAND',
                       'INSTALLATION',
                       'Annual improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L002_Annual_Improvements amended UKETS FINAL.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
            and document_template_id = (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Review annual improvement report' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L002_Annual_Improvements amended UKETS FINAL.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_air_reviewed_template_for_northern_ireland" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L002_Annual_Improvements.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AIR_REVIEWED',
                       'Review annual improvement report',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Annual improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L002_Annual_Improvements.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
            and document_template_id = (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Review annual improvement report' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L002_Annual_Improvements.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_air_reviewed_template_for_wales" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L002 Annual Improvements.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AIR_REVIEWED',
                       'Review annual improvement report',
                       'WALES',
                       'INSTALLATION',
                       'Annual improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
            and document_template_id = (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Review annual improvement report' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_air_reviewed_template_for_opred" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L002 Annual Improvements.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AIR_REVIEWED',
                       'Review annual improvement report',
                       'OPRED',
                       'INSTALLATION',
                       'Annual improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
            and document_template_id = (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Review annual improvement report' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_air_reviewed_template_for_scotland" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L002 Annual Improvements.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AIR_REVIEWED',
                       'Review annual improvement report',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Annual improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
            and document_template_id = (select id from notification_document_template where name = 'Review annual improvement report' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Review annual improvement report' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L002 Annual Improvements.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_accepted_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_ACCEPTED',
                       'Activity level determination approved by the UK Authority',
                       'WALES',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_accepted_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_ACCEPTED',
                       'Activity level determination approved by the UK Authority',
                       'ENGLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_accepted_template_for_northen_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_ACCEPTED',
                       'Activity level determination approved by the UK Authority',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_accepted_template_for_scotalnd" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_ACCEPTED',
                       'Activity level determination approved by the UK Authority',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_accepted_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_ACCEPTED',
                       'Activity level determination approved by the UK Authority',
                       'OPRED',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'OPRED')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Activity level determination approved by the UK Authority' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_rejected_template_for_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_REJECTED',
                       'Activity level determination not approved by the UK Authority',
                       'WALES',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_rejected_template_for_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_REJECTED',
                       'Activity level determination not approved by the UK Authority',
                       'ENGLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_rejected_template_for_northen_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_REJECTED',
                       'Activity level determination not approved by the UK Authority',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_rejected_template_for_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_REJECTED',
                       'Activity level determination not approved by the UK Authority',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_doal_rejected_template_for_opred" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'DOAL_REJECTED',
                       'Activity level determination not approved by the UK Authority',
                       'OPRED',
                       'INSTALLATION',
                       'Determination of Activity Level',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'OPRED')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION')
            and document_template_id = (select id from notification_document_template where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Activity level determination not approved by the UK Authority' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_dre_submitted_template_for_scotland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="METS DoE Notice_aviation - SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'SCOTLAND',
                       'AVIATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'METS DoE Notice_aviation - SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'METS DoE Notice_aviation - SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_dre_submitted_template_for_northern_ireland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="NIEA - Notice of determination of emisisons.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'NIEA - Notice of determination of emisisons.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'NIEA - Notice of determination of emisisons.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_dre_submitted_template_for_wales" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="METS DoE Notice_aviation v2.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'WALES',
                       'AVIATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'METS DoE Notice_aviation v2.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'WALES' and account_type = 'AVIATION')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'WALES' and account_type = 'AVIATION');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'WALES' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'METS DoE Notice_aviation v2.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_dre_submitted_template_for_england" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="METS DoE Notice_aviation v2.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_DRE_SUBMITTED',
                       'Reportable emissions notice',
                       'ENGLAND',
                       'AVIATION',
                       'Update reportable emissions',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'METS DoE Notice_aviation v2.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND' and account_type = 'AVIATION');

            delete from notification_document_template
            where name = 'Reportable emissions notice' and competent_authority = 'ENGLAND' and account_type = 'AVIATION';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'METS DoE Notice_aviation v2.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_document_template_for_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP',
                       'EMP for Aviation',
                       'ENGLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'EMP for Aviation' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_document_template_for_ireland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP',
                       'EMP for Aviation',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'EMP for Aviation' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_document_template_for_scotland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP',
                       'EMP for Aviation',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'EMP for Aviation' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_document_template_for_wales" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP',
                       'EMP for Aviation',
                       'WALES',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP for Aviation' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'EMP for Aviation' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS monitoring plan_template_aviation_MR.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_approval_template_for_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_GRANTED',
                       'EMP Application Approval Notice',
                       'ENGLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'EMP Application Approval Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_approval_template_for_ireland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_GRANTED',
                       'EMP Application Approval Notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'EMP Application Approval Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_approval_template_for_scotland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="20211014 UK ETS_CORSIA EMP.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_GRANTED',
                       'EMP Application Approval Notice',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = '20211014 UK ETS_CORSIA EMP.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'EMP Application Approval Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = '20211014 UK ETS_CORSIA EMP.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_approval_template_for_wales" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_GRANTED',
                       'EMP Application Approval Notice',
                       'WALES',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Approval Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'EMP Application Approval Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Approval Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_deemed_withdrawn_template_for_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_DEEMED_WITHDRAWN',
                       'EMP Application Deemed withdrawn Notice',
                       'ENGLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_deemed_withdrawn_template_for_ireland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_DEEMED_WITHDRAWN',
                       'EMP Application Deemed withdrawn Notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_deemed_withdrawn_template_for_scotland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_DEEMED_WITHDRAWN',
                       'EMP Application Deemed withdrawn Notice',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_deemed_withdrawn_template_for_wales" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_DEEMED_WITHDRAWN',
                       'EMP Application Deemed withdrawn Notice',
                       'WALES',
                       'AVIATION',
                       'EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'EMP Application Deemed withdrawn Notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS EMP Withdrawn Notice_METS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withholding_of_allowances_template_for_england" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 IN Withholding Allowances Notice UKETS_Draft_KB_Temp_CL_IW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES',
                       'Withholding Of Allowances',
                       'ENGLAND',
                       'INSTALLATION',
                       'Withholding Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L008 IN Withholding Allowances Notice UKETS_Draft_KB_Temp_CL_IW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L008 IN Withholding Allowances Notice UKETS_Draft_KB_Temp_CL_IW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withholding_of_allowances_template_for_northern_ireland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 P3 Withholding Allowances Notice NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES',
                       'Withholding Of Allowances',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Withholding Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L008 P3 Withholding Allowances Notice NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L008 P3 Withholding Allowances Notice NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withholding_of_allowances_template_for_wales" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES',
                       'Withholding Of Allowances',
                       'WALES',
                       'INSTALLATION',
                       'Withholding Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Withholding Of Allowances' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withholding_of_allowances_template_for_opred" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES',
                       'Withholding Of Allowances',
                       'OPRED',
                       'INSTALLATION',
                       'Withholding Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Withholding Of Allowances' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withholding_of_allowances_template_for_scotland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES',
                       'Withholding Of Allowances',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Withholding Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L008_P3_Withholding_Allowances_Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withdraw_withholding_of_allowances_template_for_england" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue of allowances notice UKETS with CL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES_WITHDRAWN',
                       'Withholding Of Allowances Withdrawn',
                       'ENGLAND',
                       'INSTALLATION',
                       'Withholding Of Allowances Withdrawn',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L009_P3_Issue of allowances notice UKETS with CL.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L009_P3_Issue of allowances notice UKETS with CL.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withdraw_withholding_of_allowances_template_for_northern_ireland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES_WITHDRAWN',
                       'Withholding Of Allowances Withdrawn',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Withholding Of Allowances Withdrawn',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L009 P3 Issue Allowances NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L009 P3 Issue Allowances NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withdraw_withholding_of_allowances_template_for_wales" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES_WITHDRAWN',
                       'Withholding Of Allowances Withdrawn',
                       'WALES',
                       'INSTALLATION',
                       'Withholding Of Allowances Withdrawn',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L009 P3 Issue Allowances.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L009 P3 Issue Allowances.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withdraw_withholding_of_allowances_template_for_opred" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES_WITHDRAWN',
                       'Withholding Of Allowances Withdrawn',
                       'OPRED',
                       'INSTALLATION',
                       'Withholding Of Allowances Withdrawn',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L009 P3 Issue Allowances.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L009 P3 Issue Allowances.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_withdraw_withholding_of_allowances_template_for_scotland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue_Allowances.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'WITHHOLDING_OF_ALLOWANCES_WITHDRAWN',
                       'Withholding Of Allowances Withdrawn',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Withholding Of Allowances Withdrawn',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L009_P3_Issue_Allowances.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Withholding Of Allowances Withdrawn' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L009_P3_Issue_Allowances.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_return_of_allowances_template_for_england" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice UKETS 2021 NIMS FINAL.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'RETURN_OF_ALLOWANCES',
                       'Return Of Allowances',
                       'ENGLAND',
                       'INSTALLATION',
                       'Return Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L133 P3 Recovering Allowances Notice UKETS 2021 NIMS FINAL.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Return of Allowances' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L133 P3 Recovering Allowances Notice UKETS 2021 NIMS FINAL.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_return_of_allowances_template_for_northern_ireland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice NI Mar 13.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'RETURN_OF_ALLOWANCES',
                       'Return Of Allowances',
                       'NORTHERN_IRELAND',
                       'INSTALLATION',
                       'Return Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L133 P3 Recovering Allowances Notice NI Mar 13.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Return of Allowances' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L133 P3 Recovering Allowances Notice NI Mar 13.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_return_of_allowances_template_for_opred" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice UK ETS ALR 2021.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'RETURN_OF_ALLOWANCES',
                       'Return Of Allowances',
                       'OPRED',
                       'INSTALLATION',
                       'Return Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L133 P3 Recovering Allowances Notice UK ETS ALR 2021.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'OPRED' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'OPRED')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'OPRED')
            and document_template_id = (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'OPRED');

            delete from notification_document_template
            where name = 'Return of Allowances' and competent_authority = 'OPRED';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L133 P3 Recovering Allowances Notice UK ETS ALR 2021.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_return_of_allowances_template_for_scotland" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'RETURN_OF_ALLOWANCES',
                       'Return Of Allowances',
                       'SCOTLAND',
                       'INSTALLATION',
                       'Return Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L133 P3 Recovering Allowances Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Return of Allowances' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L133 P3 Recovering Allowances Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_return_of_allowances_template_for_wales" author="P63757">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'RETURN_OF_ALLOWANCES',
                       'Return Of Allowances',
                       'WALES',
                       'INSTALLATION',
                       'Return Of Allowances',
                       '2023-08-03 00:00:00',
                       (select id from file_document_template where file_name = 'L133 P3 Recovering Allowances Notice.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'INSTALLATION'),
                       (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email Template for Installation letter' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'Return Of Allowances' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Return of Allowances' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'L133 P3 Recovering Allowances Notice.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_return_of_allowances_template_for_england" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update return of allowances template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="RETURN_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice UKETS 2021 NIMS FINAL.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_return_of_allowances_template_for_northern_ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update return of allowances template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="RETURN_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_return_of_allowances_template_for_opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update return of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="RETURN_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice UK ETS ALR 2021.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_return_of_allowances_template_for_scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update return of allowances template for SCOTLAND</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="RETURN_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_return_of_allowances_template_for_wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update return of allowances template for WALES</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="RETURN_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L133 P3 Recovering Allowances Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_email_notification_template_for_aviation" author="pafilisa@unisystems.gr">
        <sql>
            UPDATE notification_template
            SET text='Dear ${(accountPrimaryContact)!}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme'
            WHERE name = 'Generic email template' and account_type = 'AVIATION';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text='Dear ${accountPrimaryContact}

Please find attached a letter from the UK Emissions Trading Scheme.

If you have any queries about this letter, please contact your technical officer.

Kind regards,

UK Emissions Trading Scheme'
                WHERE name = 'Generic email template' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_england" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 IN Withholding Allowances Notice UKETS_Draft_KB_Temp_CL_IW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdrawal_withholding_of_allowances_template_for_england" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue of allowances notice UKETS with CL.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_northern_ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 P3 Withholding Allowances Notice NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_northern_ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for SCOTLAND</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for SCOTLAND</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue_Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for WALES</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for WALES</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_accepted_template_for_england" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Approve Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_ACCEPTED',
                       'AEM Plan Variation Approved',
                       'ENGLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Approved' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_accepted_template_for_northern_ireland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Approve Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_ACCEPTED',
                       'AEM Plan Variation Approved',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Approved' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_accepted_template_for_scotland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Approve Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_ACCEPTED',
                       'AEM Plan Variation Approved',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Approved' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_accepted_template_for_wales" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Approve Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_ACCEPTED',
                       'AEM Plan Variation Approved',
                       'WALES',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Approved' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'AEM Plan Variation Approved' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Approve Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_rejected_template_for_england" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Refusal Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REJECTED',
                       'AEM Plan Variation Refused',
                       'ENGLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Refused' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_rejected_template_for_northern_ireland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Refusal Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REJECTED',
                       'AEM Plan Variation Refused',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Refused' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_rejected_template_for_scotland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Refusal Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REJECTED',
                       'AEM Plan Variation Refused',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Refused' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_rejected_template_for_wales" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Refusal Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REJECTED',
                       'AEM Plan Variation Refused',
                       'WALES',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Refused' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'AEM Plan Variation Refused' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Refusal Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_deemed_withdrawn_template_for_england" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_DEEMED_WITHDRAWN',
                       'AEM Plan Variation Withdrawn',
                       'ENGLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_deemed_withdrawn_template_for_northern_ireland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_DEEMED_WITHDRAWN',
                       'AEM Plan Variation Withdrawn',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_deemed_withdrawn_template_for_scotland" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_DEEMED_WITHDRAWN',
                       'AEM Plan Variation Withdrawn',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_deemed_withdrawn_template_for_wales" author="apostolouk@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_DEEMED_WITHDRAWN',
                       'AEM Plan Variation Withdrawn',
                       'WALES',
                       'AVIATION',
                       'EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP Variation Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_england_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 IN Withholding Allowances Notice UKETS_Draft_KB_Temp_CL_IW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdrawal_withholding_of_allowances_template_for_england_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue of allowances notice UKETS with CL.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_northern_ireland_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008 P3 Withholding Allowances Notice NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_northern_ireland_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances NI Mar 13.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_opred_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_opred_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_scotland_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for SCOTLAND</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_scotland_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for SCOTLAND</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009_P3_Issue_Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_wales_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for WALES</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withdraw_withholding_of_allowances_template_for_wales_PMRV-7241" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withdraw withholding of allowances template for WALES</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES_WITHDRAWN"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L009 P3 Issue Allowances.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_england" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS Request_for_time_extension_notice_20210401 AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_scotland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 AV Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_wales" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_northern_ireland" author="pafilisa@unisystems.gr">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>


    <changeSet id="0_1_0_update_notice_of_doal_approval_template_for_england" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="DOAL_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_approval_template_for_northern_ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="DOAL_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_approval_template_for_northern_opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="DOAL_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_approval_template_for_scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="DOAL_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_approval_template_for_wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="DOAL_ACCEPTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Approval of Allocation (with corrections) Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_rejection_template_for_england" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for England</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="DOAL_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_rejection_template_for_northern_ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for Northern Ireland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="DOAL_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_rejection_template_for_northern_opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for opred</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="DOAL_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_rejection_template_for_scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for scotland</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="DOAL_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_notice_of_doal_rejection_template_for_wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update notice of doal template for Wales</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="DOAL_REJECTED"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="Notice of DOAL Rejection of Allocation Article 34H &amp; 6a Final v01.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_notification_document_template_for_emp_issuance" author="apostolouk@unisystems.gr">
        <sql>
            update notification_document_template
            set name = 'Emissions monitoring plan'
			where name = 'EMP for Aviation';
			
			update notification_document_template
            set name = 'EMP approval notice'
			where name = 'EMP Application Approval Notice';
			
			update notification_document_template
            set name = 'EMP withdrawn'
			where name = 'EMP Application Deemed withdrawn Notice';
			
			update notification_document_template
            set last_updated_date = '2023-05-03 00:00:00'
			where workflow = 'EMP issuance';
        </sql>
        <rollback>
            update notification_document_template
            set last_updated_date = '2022-06-12 00:00:00'
			where workflow = 'EMP issuance';
			
			update notification_document_template
            set name = 'EMP Application Deemed withdrawn Notice'
			where name = 'EMP withdrawn';
			
			update notification_document_template
            set name = 'EMP Application Approval Notice'
			where name = 'EMP approval notice';
			
			update notification_document_template
            set name = 'EMP for Aviation'
			where name = 'Emissions monitoring plan';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_regulator_led_approved_for_england" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REGULATOR_LED_APPROVED',
                       'Emissions Monitoring Plan CA Variation Approved',
                       'ENGLAND',
                       'AVIATION',
                       'EMP CA Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_regulator_led_approved_for_northern_ireland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REGULATOR_LED_APPROVED',
                       'Emissions Monitoring Plan CA Variation Approved',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'EMP CA Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_regulator_led_approved_for_scotland" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REGULATOR_LED_APPROVED',
                       'Emissions Monitoring Plan CA Variation Approved',
                       'SCOTLAND',
                       'AVIATION',
                       'EMP CA Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_variation_regulator_led_approved_for_wales" author="P35066">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_REGULATOR_LED_APPROVED',
                       'Emissions Monitoring Plan CA Variation Approved',
                       'WALES',
                       'AVIATION',
                       'EMP CA Variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Emissions Monitoring Plan CA Variation Approved' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_opred_PMRV-7550" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for OPRED</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_generic_email_notification_template_for_aviation" author="P63979">
        <sql>
            UPDATE notification_template
            SET text='Dear ${(accountPrimaryContact)!}

Please find attached a communication from your regulator.

If you have any queries, please contact ${competentAuthorityEmail}

Kind regards,

${competentAuthorityName}'
            WHERE name = 'Generic email template' and account_type = 'AVIATION';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text='Dear ${(accountPrimaryContact)!}

                Please find attached a letter from the UK Emissions Trading Scheme.

                If you have any queries about this letter, please contact your technical officer.

                Kind regards,

                UK Emissions Trading Scheme'
                WHERE name = 'Generic email template' and account_type = 'AVIATION';
            </sql>
        </rollback>
    </changeSet>
    

    <changeSet id="0_1_0_update_withholding_of_allowances_template_for_opred_remove_white_frame_from_text" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update withholding of allowances template for OPRED text white frame removal</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="WITHHOLDING_OF_ALLOWANCES"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="L008_P3_Withholding_Allowances_Notice final Revocation reg address removed EA (1).docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_verifier_improvement_report_operator_response_notification_template_content_2" author="P70605">
        <sql>
            UPDATE notification_template
            SET text = '${accountName} ${emitterId} has submitted a response to an improvement identified in verifier improvement report. [Sign in to your account](${homeUrl}) to view the response.

This is an automatic email - please do not reply to this address.'
            WHERE name = 'Verifier Improvement Report Operator Response';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = 'The ${accountName} ${emitterId} has submitted a response to one of your follow-up items. [Sign in to your account](${homeUrl}) to view the response.

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'Verifier Improvement Report Operator Response';
            </sql>
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_verifier_improvement_report_operator_missed_deadline_notification_template_content" author="P70605">
        <sql>
            UPDATE notification_template
            SET text = '${accountName} ${emitterId} has missed the deadline to submit a response to a follow-up item from their verification improvement report. [Sign in to your account](${homeUrl}) to view the details.

This is an automatic email - please do not reply to this address.'
            WHERE name = 'Verifier Improvement Report Operator misses a deadline';
        </sql>
        <rollback>
            <sql>
                UPDATE notification_template
                SET text = '${accountName} ${emitterId} has missed the deadline to submit a response to one of your follow-up items. [Sign in to your account](${homeUrl}) to view the details.

                This is an automatic email - please do not reply to this address.'
                WHERE name = 'Verifier Improvement Report Operator misses a deadline';
            </sql>
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_aviation_vir_reviewed_template_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV Verifier Improvement Report Response UK ETS  CORSIA_.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_VIR_REVIEWED',
                       'Verifier improvements report response',
                       'ENGLAND',
                       'AVIATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'Verifier improvements report response' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_vir_reviewed_template_for_northern_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV Verifier Improvement Report Response UK ETS  CORSIA_.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'AVIATION_VIR_REVIEWED',
                       'Verifier improvements report response',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'Verifier improvements report response' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_vir_reviewed_template_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV Verifier Improvement Report Response UK ETS  CORSIA_.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report response',
                       'WALES',
                       'AVIATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'Verifier improvements report response' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_aviation_vir_reviewed_template_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV Verifier Improvement Report Response UK ETS  CORSIA_.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'VIR_REVIEWED',
                       'Verifier improvements report response',
                       'SCOTLAND',
                       'AVIATION',
                       'Verifier improvement report',
                       '2022-09-04 00:00:00',
                       (select id from file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'Verifier improvements report response' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'Verifier improvements report response' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV Verifier Improvement Report Response UK ETS  CORSIA_.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_approval_template_for_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Approval_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_GRANTED',
                       'CORSIA: EMP approval notice',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP approval notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_deemed_withdrawn_template_for_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: EMP withdrawn',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP withdrawn' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_document_template_for_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_CORSIA',
                       'CORSIA: Emissions monitoring plan',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_monitoring_plan_template_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_monitoring_plan_template_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_approval_template_for_northern_ireland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Approval_Notice_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_GRANTED',
                       'CORSIA: EMP approval notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP approval notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_deemed_withdrawn_template_for_northern_ireland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Withdrawn_Notice_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: EMP withdrawn',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP withdrawn' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_document_template_for_northern_ireland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_CORSIA',
                       'CORSIA: Emissions monitoring plan',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_monitoring_plan_template_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_monitoring_plan_template_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_approval_template_for_scotland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Approval_Notice_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_GRANTED',
                       'CORSIA: EMP approval notice',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP approval notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_deemed_withdrawn_template_for_scotland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Withdrawn_Notice_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: EMP withdrawn',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: EMP withdrawn' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_document_template_for_scotland" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_CORSIA',
                       'CORSIA: Emissions monitoring plan',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_monitoring_plan_template_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_monitoring_plan_template_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_approval_template_for_wales" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Approval_Notice_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_GRANTED',
                       'CORSIA: EMP approval notice',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP approval notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: EMP approval notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Approval_Notice_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_deemed_withdrawn_template_for_wales" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Withdrawn_Notice_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_ISSUANCE_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: EMP withdrawn',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: EMP withdrawn' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: EMP withdrawn' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Withdrawn_Notice_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_document_template_for_wales" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_CORSIA',
                       'CORSIA: Emissions monitoring plan',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP issuance',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_monitoring_plan_template_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Emissions monitoring plan' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_monitoring_plan_template_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_vir_reviewed_to_aviation_vir_reviewed" author="P70605">
        <sql>
            update notification_document_template
            set type = 'AVIATION_VIR_REVIEWED'
            where type = 'VIR_REVIEWED' and account_type = 'AVIATION' and name = 'Verifier improvements report response' and competent_authority in ('SCOTLAND', 'WALES')

        </sql>

        <rollback>
            update notification_document_template
            set type = 'VIR_REVIEWED'
            where type = 'AVIATION_VIR_REVIEWED' and account_type = 'AVIATION' and name = 'Verifier improvements report response' and competent_authority in ('SCOTLAND', 'WALES')
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_rename_emp_ukets_document_template_types" author="P35066">
        <sql>
            update notification_document_template set type = 'EMP_UKETS' where type = 'EMP';
            update notification_document_template set type = 'EMP_ISSUANCE_UKETS_GRANTED' where type = 'EMP_ISSUANCE_GRANTED';
            update notification_document_template set type = 'EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN' where type = 'EMP_ISSUANCE_DEEMED_WITHDRAWN';
            update notification_document_template set type = 'EMP_VARIATION_UKETS_ACCEPTED' where type = 'EMP_VARIATION_ACCEPTED';
            update notification_document_template set type = 'EMP_VARIATION_UKETS_REJECTED' where type = 'EMP_VARIATION_REJECTED';
            update notification_document_template set type = 'EMP_VARIATION_UKETS_DEEMED_WITHDRAWN' where type = 'EMP_VARIATION_DEEMED_WITHDRAWN';
            update notification_document_template set type = 'EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED' where type = 'EMP_VARIATION_REGULATOR_LED_APPROVED';
        </sql>
        <rollback>
            update notification_document_template set type = 'EMP' where type = 'EMP_UKETS';
            update notification_document_template set type = 'EMP_ISSUANCE_GRANTED' where type = 'EMP_ISSUANCE_UKETS_GRANTED';
            update notification_document_template set type = 'EMP_ISSUANCE_DEEMED_WITHDRAWN' where type = 'EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN';
            update notification_document_template set type = 'EMP_VARIATION_ACCEPTED' where type = 'EMP_VARIATION_UKETS_ACCEPTED';
            update notification_document_template set type = 'EMP_VARIATION_REJECTED' where type = 'EMP_VARIATION_UKETS_REJECTED';
            update notification_document_template set type = 'EMP_VARIATION_DEEMED_WITHDRAWN' where type = 'EMP_VARIATION_UKETS_DEEMED_WITHDRAWN';
            update notification_document_template set type = 'EMP_VARIATION_REGULATOR_LED_APPROVED' where type = 'EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED';
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_pdf_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp pdf document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_UKETS"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_pdf_northern_ireland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp pdf document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="EMP_UKETS"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_pdf_scotland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp pdf document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="EMP_UKETS"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_pdf_wales" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp pdf document</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="EMP_UKETS"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS monitoring plan_template_aviation_MR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_deemed_withdrawn_template_england" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update Withdrawn Notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_deemed_withdrawn_template_ireland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update Withdrawn Notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_deemed_withdrawn_template_scotland" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update Withdrawn Notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_deemed_withdrawn_template_wales" author="P70383">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update Withdrawn Notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_DEEMED_WITHDRAWN"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Withdrawn Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_approval_notice_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp approval notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_GRANTED"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_approval_notice_northern_ireland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp approval notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_GRANTED"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_approval_notice_scotland" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp approval notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_GRANTED"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="20211014 UK ETS_CORSIA EMP.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_approval_notice_wales" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp approval notice</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="EMP_ISSUANCE_UKETS_GRANTED"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS EMP Approval Notice_METS.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_reissue_ukets_template_for_england" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_UK ETS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_UKETS',
                       'UK ETS: Batch variation notice',
                       'ENGLAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'UK ETS: Batch variation notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_ukets_template_for_northern_ireland" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_UK ETS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_UKETS',
                       'UK ETS: Batch variation notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'UK ETS: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_ukets_template_for_scotland" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_UK ETS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_UKETS',
                       'UK ETS: Batch variation notice',
                       'SCOTLAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'UK ETS: Batch variation notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_ukets_template_for_wales" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_UK ETS.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_UKETS',
                       'UK ETS: Batch variation notice',
                       'WALES',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'UK ETS: Batch variation notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'UK ETS: Batch variation notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_UK ETS.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    
    <changeSet id="0_1_0_insert_emp_reissue_corsia_template_for_england" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_CORSIA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_CORSIA',
                       'CORSIA: Batch variation notice',
                       'ENGLAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'ENGLAND')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Batch variation notice' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_corsia_template_for_northern_ireland" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_CORSIA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_CORSIA',
                       'CORSIA: Batch variation notice',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'NORTHERN_IRELAND')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: Batch variation notice' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_corsia_template_for_scotland" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_CORSIA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_CORSIA',
                       'CORSIA: Batch variation notice',
                       'SCOTLAND',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'SCOTLAND')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Batch variation notice' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>
    
    <changeSet id="0_1_0_insert_emp_reissue_corsia_template_for_wales" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="AV_Batch_Reissue_Notice_METS_CORSIA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_REISSUE_CORSIA',
                       'CORSIA: Batch variation notice',
                       'WALES',
                       'AVIATION',
                       'Batch variations',
                       '2022-11-13 00:00:00',
                       (select id from file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and account_type = 'AVIATION' and competent_authority = 'WALES')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Batch variation notice' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Batch variation notice' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'AV_Batch_Reissue_Notice_METS_CORSIA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_variation_regulator_led_approved_for_england" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REGULATOR_LED_APPROVED',
                       'CORSIA: Emissions Monitoring Plan CA variation approved',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP CA variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'ENGLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_variation_regulator_led_approved_for_northern_ireland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REGULATOR_LED_APPROVED',
                       'CORSIA: Emissions Monitoring Plan CA variation approved',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP CA variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_variation_regulator_led_approved_for_scotland" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REGULATOR_LED_APPROVED',
                       'CORSIA: Emissions Monitoring Plan CA variation approved',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP CA variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'SCOTLAND')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_corsia_emp_variation_regulator_led_approved_for_wales" author="P70605">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REGULATOR_LED_APPROVED',
                       'CORSIA: Emissions Monitoring Plan CA variation approved',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP CA variation',
                       '2022-06-12 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'WALES')
                   );
        </sql>

        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan CA variation approved' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Regulator lead Variation Approval Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_variation_regulator_led_approved_for_england_externalize_name_email" author="P35066">
    	<validCheckSum>ANY</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="type" value="EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_variation_regulator_led_approved_for_northern_ireland_externalize_name_email_remove_footer" author="P35066">
    	<validCheckSum>ANY</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="type" value="EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_variation_regulator_led_approved_for_scotland_externalize_name_email_remove_footer" author="P35066">
    	<validCheckSum>ANY</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="type" value="EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_variation_regulator_led_approved_for_wales_externalize_name_email_remove_footer" author="P35066">
    	<validCheckSum>ANY</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="type" value="EMP_VARIATION_UKETS_REGULATOR_LED_APPROVED" />
            <param name="fileDocumentName" value="UK ETS_EMP_Regulator lead Variation Approval Notice_METS_final.docx" />
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_removing_management_procedures_exist_England" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Removing management procedures exist check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_removing_management_procedures_exist_Northern_Ireland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Removing management procedures exist check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_UK ETS Final v5.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_removing_management_procedures_exist_Opred" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Removing management procedures exist check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="OPRED"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="P3 AEM Permit conditions amended 2018 THIS WORKS IW4 FAR.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_removing_management_procedures_exist_Scotland" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Removing management procedures exist check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update_SEPA numbering.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_permit_document_removing_management_procedures_exist_Wales" author="P63757">
        <validCheckSum>1:any</validCheckSum>
        <comment>Removing management procedures exist check</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="PERMIT"/>
            <param name="accountType" value="INSTALLATION" />
            <param name="fileDocumentName" value="INPermitApplication_Permit_jan 21 variation MP update NRW.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_accepted_template_for_england" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Approve_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_ACCEPTED',
                       'CORSIA: Emissions Monitoring Plan variation approved',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_variation_accepted_template_for_northern_ireland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Approve_Notice_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_ACCEPTED',
                       'CORSIA: Emissions Monitoring Plan variation approved',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_variation_accepted_template_for_scotland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Approve_Notice_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_ACCEPTED',
                       'CORSIA: Emissions Monitoring Plan variation approved',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_variation_accepted_template_for_wales" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Approve_Notice_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_ACCEPTED',
                       'CORSIA: Emissions Monitoring Plan variation approved',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation approved' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Approve_Notice_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_corsia_variation_rejected_template_for_england" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Refusal_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REJECTED',
                       'CORSIA: Emissions Monitoring Plan variation refused',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_rejected_template_for_northern_ireland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Refusal_Notice_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REJECTED',
                       'CORSIA: Emissions Monitoring Plan variation refused',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_rejected_template_for_scotland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Refusal_Notice_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REJECTED',
                       'CORSIA: Emissions Monitoring Plan variation refused',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_rejected_template_for_wales" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Refusal_Notice_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_REJECTED',
                       'CORSIA: Emissions Monitoring Plan variation refused',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation refused' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Refusal_Notice_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_deemed_withdrawn_template_for_england" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Withdrawn_Notice_METS_final.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: Emissions Monitoring Plan variation withdrawn',
                       'ENGLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_METS_final.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'ENGLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'ENGLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'ENGLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'ENGLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_METS_final.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_deemed_withdrawn_template_for_northern_ireland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Withdrawn_Notice_NIEA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: Emissions Monitoring Plan variation withdrawn',
                       'NORTHERN_IRELAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_NIEA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'NORTHERN_IRELAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'NORTHERN_IRELAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'NORTHERN_IRELAND');

            delete from notification_document_template
            where name = 'AEM Plan Variation Withdrawn' and competent_authority = 'NORTHERN_IRELAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_NIEA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_deemed_withdrawn_template_for_scotland" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Withdrawn_Notice_SEPA.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: Emissions Monitoring Plan variation withdrawn',
                       'SCOTLAND',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_SEPA.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'SCOTLAND')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'SCOTLAND' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'SCOTLAND');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'SCOTLAND';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_SEPA.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_insert_emp_variation_corsia_deemed_withdrawn_template_for_wales" author="P63979">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.InsertDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES" />
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_EMP_Variation_Withdrawn_Notice_NRW.docx" />
        </customChange>
        <sql>
            insert into notification_document_template (
                id,
                type,
                name,
                competent_authority,
                account_type,
                workflow,
                last_updated_date,
                file_document_template_id)
            values (
                       nextval('notification_document_template_seq'),
                       'EMP_VARIATION_CORSIA_DEEMED_WITHDRAWN',
                       'CORSIA: Emissions Monitoring Plan variation withdrawn',
                       'WALES',
                       'AVIATION',
                       'CORSIA EMP Variation',
                       '2023-03-05 00:00:00',
                       (select id from file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_NRW.docx' order by id desc limit 1));
        </sql>
        <sql>
            insert into notification_template_document_template (notification_template_id, document_template_id)
            values (
                       (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION'),
                       (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'WALES')
                   );
        </sql>
        <rollback>
            delete from notification_template_document_template
            where notification_template_id = (select id from notification_template where name = 'Generic email template' and competent_authority = 'WALES' and account_type = 'AVIATION')
            and document_template_id = (select id from notification_document_template where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'WALES');

            delete from notification_document_template
            where name = 'CORSIA: Emissions Monitoring Plan variation withdrawn' and competent_authority = 'WALES';

            delete from file_document_template
            where ctid IN (select ctid FROM file_document_template where file_name = 'CORSIA_EMP_Variation_Withdrawn_Notice_NRW.docx' order by id desc limit 1);
        </rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_to_fix_markings_issue_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <comment>Update emp pdf document to fix flight identification markings issue</comment>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_corsia_pdf_for_england_rename_emp_monitoring_approach_property" author="P35066">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_to_fix_null_issue_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_to_fix_null_issue_fumm_methods_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_to_fix_issue_cert_monitoring_approach_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
    
    <changeSet id="0_1_0_update_emp_corsia_pdf_to_add_additional_corsia_fuel_types_england" author="apostolouk@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_england" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="UK ETS Request_for_time_extension_notice_20210401 AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rfi_template_for_aviation_england" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="P3 Request for further information notice_L25 AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_northern_ireland" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rfi_template_for_aviation_northern_ireland" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="NORTHERN_IRELAND"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_scotland" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="SCOTLAND"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 AV Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rde_template_for_aviation_wales" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RDE"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L026 P3 Request for time extension notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_rfi_template_for_aviation_wales" author="P70605">
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="WALES"/>
            <param name="type" value="IN_RFI"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="L025 P3 Request for further information notice AV.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_content_fixes_england" author="P63979">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_update_emp_corsia_pdf_amendments_and_fixes_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>

    <changeSet id="0_1_0_fix_emp_corsia_pdf_issues_england" author="dimopoulosc@unisystems.gr">
        <validCheckSum>1:any</validCheckSum>
        <customChange class="uk.gov.pmrv.api.migration.initialdata.UpdateDocumentTemplateFileTaskChange">
            <param name="competentAuthority" value="ENGLAND"/>
            <param name="type" value="EMP_CORSIA"/>
            <param name="accountType" value="AVIATION" />
            <param name="fileDocumentName" value="CORSIA_monitoring_plan_template_METS_final.docx"/>
        </customChange>
        <rollback></rollback>
    </changeSet>
</databaseChangeLog>
